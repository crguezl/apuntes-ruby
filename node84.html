<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Ejercicios</TITLE>
<META NAME="description" CONTENT="Ejercicios">
<META NAME="keywords" CONTENT="perlexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="next" HREF="node85.html">
<LINK REL="previous" HREF="node71.html">
<LINK REL="up" HREF="node61.html">
<LINK REL="next" HREF="node85.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html4647"
  HREF="node85.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html4641"
  HREF="node61.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html4635"
  HREF="node83.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html4643"
  HREF="node849.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html4645"
  HREF="node852.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html29"
  HREF="http://tinyurl.com/lpp1415"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="LPP moodle"></A><A NAME="tex2html30"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5678"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="SYTW moodle"></A><A NAME="tex2html31"
  HREF="perlexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="pdf"></A><A NAME="tex2html32"
  HREF="https://dl.dropbox.com/u/14539152/LPP/LPPbook/index.html"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html33"
  HREF="http://www.ruby-doc.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html34"
  HREF="http://www.github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html35"
  HREF="http://rubylearning.com/blog/"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="blogs"></A><A NAME="tex2html36"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html37"
  HREF="http://www.ull.es/view/centros/etsii/Inicio/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html38"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html39"
  HREF="https://plus.google.com/u/0/communities/115470806071217401678"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-lpp-1314"></A><A NAME="tex2html40"
  HREF="https://plus.google.com/u/0/communities/109091480492072495700"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-stw-1314"></A>
<BR>
<B> Siguiente:</B> <A NAME="tex2html4648"
  HREF="node85.html">Ejercicios</A>
<B> Subir:</B> <A NAME="tex2html4642"
  HREF="node61.html">Tipos de Datos y</A>
<B> Anterior:</B> <A NAME="tex2html4636"
  HREF="node83.html">Congelación: freezing</A>
 &nbsp; <B>  <A NAME="tex2html4644"
  HREF="node849.html">&#205;ndice General</A></B> 
 &nbsp; <B>  <A NAME="tex2html4646"
  HREF="node852.html">&#205;ndice de Materias</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION02390000000000000000"></A>
<A NAME="ejercicios:schwartz"></A>
<BR>
Ejercicios
</H1>

<OL>
<LI>Explique porque es ineficiente esta forma de ordenar:
<PRE>
&gt;&gt; system 'ls -l c*.rb'
-rw-r--r--  1 casianorodriguezleon  staff  296 17 oct 22:12 calif.rb
-rw-r--r--  1 casianorodriguezleon  staff  320 26 sep 08:12 case.rb
-rw-r--r--  1 casianorodriguezleon  staff  526 10 oct 12:51 chuchu.rb
-rw-r--r--  1 casianorodriguezleon  staff   95  7 oct 16:27 closure.rb
=&gt; true
&gt;&gt; files = Dir['c*.rb']
=&gt; ["calif.rb", "case.rb", "chuchu.rb", "closure.rb"]
&gt;&gt; fs = files.sort { |a,b| File.new(b).mtime &lt;=&gt; File.new(a).mtime }
=&gt; ["calif.rb", "chuchu.rb", "closure.rb", "case.rb"]
</PRE>
</LI>
<LI>El método <code>stat</code> de la clase <A NAME="4374"></A><A NAME="tex2html222"
  HREF="http://ruby-doc.org/core-2.0.0/File.html"><TT>File</TT></A>
nos permite consultar el estado de un fichero:
<PRE>
&gt;&gt; File.stat("calif.rb")
=&gt; #&lt;File::Stat dev=0xe000002, ino=29688777, mode=0100644, nlink=1, uid=501, gid=20, rdev=0x0, size=296, blksize=4096, blocks=8, atime=Tue Oct 18 12:17:42 +0100 2011, mtime=Mon Oct 17 22:12:56 +0100 2011, ctime=Mon Oct 17 22:12:56 +0100 2011&gt;
</PRE>
Por ejemplo, el método <code>mtime</code> permite ver la fecha de la última modificación de un fichero:
<PRE>
&gt;&gt; File.stat("calif.rb").mtime
=&gt; Mon Oct 17 22:12:56 0100 2011
&gt;&gt; File.stat("calif.rb").mtime.class
=&gt; Time
&gt;&gt; File.stat("calif.rb").mtime.to_i
=&gt; 1318885976
&gt;&gt; File.stat("case.rb").mtime
=&gt; Mon Sep 26 08:12:29 0100 2011
&gt;&gt; File.stat("case.rb").mtime.to_i
=&gt; 1317021149
&gt;&gt; File.stat("case.rb").mtime &lt; File.stat("calif.rb").mtime
=&gt; true
</PRE>
¿Cuales son las salidas de los siguientes comandos?
<PRE>
&gt;&gt; files = Dir['c*.rb']
=&gt; ["calif.rb", "case.rb", "chuchu.rb", "closure.rb"]
&gt;&gt; sf = files.collect { |f| [File.stat(f).mtime, f] }
=&gt; [[Mon Oct 17 22:12:56 0100 2011, "calif.rb"], [Mon Sep 26 08:12:29 0100 2011, "case.rb"], [Mon Oct 10 12:51:38 0100 2011, "chuchu.rb"], [Fri Oct 07 16:27:40 0100 2011, "closure.rb"]]
&gt;&gt; tf = sf.sort
=&gt; 
&gt;&gt; tf.collect { |f| f[1] }
=&gt;
</PRE>
Esta forma de ordenar un <A NAME="4378"></A><A NAME="tex2html223"
  HREF="http://ruby-doc.org/core-2.0.0/Array.html"><TT>Array</TT></A>
según ciertos valores, denominada <I>Schwartzian Transform</I>, consiste en tres pasos:

<OL>
<LI>Crear un array de pares manteniendo la correspondencia entre cada elemento del array y el valor asociado
</LI>
<LI>Ordenar el array de pares de acuerdo a la primera componente. El orden de arrays es el lexicográfico:
<PRE>
&gt;&gt; [2,"a"] &lt;=&gt; [2,"b"]
=&gt; -1
&gt;&gt; [2,"b"] &lt;=&gt; [2,"a"]
=&gt; 1
&gt;&gt; [2,"b"] &lt;=&gt; [2,"b"]
=&gt; 0
</PRE>
</LI>
<LI>Proyectar el array ordenado en la segunda componente
</LI>
</OL>
</LI>
<LI>El método <code>sort_by</code> ordena utilizando un conjunto de claves generadas a partir de los valores
usando un bloque dado:
<PRE>
&gt;&gt; %w{apple pear fig}.sort_by { |w| -w.length }
=&gt; ["apple", "pear", "fig"]
</PRE>
Para hacerlo utiliza el algoritmo <I>Schwartzian Transform</I>.

<P>
¿Cuál es la salida de esta sentencia?
<PRE>
&gt;&gt; Dir['c*.rb'].sort_by { |f| File.stat(f).mtime }
=&gt;
</PRE>
</LI>
<LI>¿Cuales son las salidas de los siguientes comandos?
<PRE>
&gt;&gt; h = { :a =&gt; 3, :b =&gt; 2, :c =&gt; 1 }
=&gt; {:b=&gt;2, :c=&gt;1, :a=&gt;3}
&gt;&gt; h.sort_by { |x| x[1] }
=&gt; [[:c, 1], [:b, 2], [:a, 3]]
&gt;&gt; h.sort_by { |x| x[1] }.collect { |z| z[0] }
=&gt;
</PRE>

<P>
</LI>
</OL>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html4647"
  HREF="node85.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html4641"
  HREF="node61.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html4635"
  HREF="node83.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html4643"
  HREF="node849.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html4645"
  HREF="node852.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html29"
  HREF="http://tinyurl.com/lpp1415"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="LPP moodle"></A><A NAME="tex2html30"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5678"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="SYTW moodle"></A><A NAME="tex2html31"
  HREF="perlexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="pdf"></A><A NAME="tex2html32"
  HREF="https://dl.dropbox.com/u/14539152/LPP/LPPbook/index.html"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html33"
  HREF="http://www.ruby-doc.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html34"
  HREF="http://www.github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html35"
  HREF="http://rubylearning.com/blog/"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="blogs"></A><A NAME="tex2html36"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html37"
  HREF="http://www.ull.es/view/centros/etsii/Inicio/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html38"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html39"
  HREF="https://plus.google.com/u/0/communities/115470806071217401678"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-lpp-1314"></A><A NAME="tex2html40"
  HREF="https://plus.google.com/u/0/communities/109091480492072495700"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-stw-1314"></A>
<BR>
<B> Siguiente:</B> <A NAME="tex2html4648"
  HREF="node85.html">Ejercicios</A>
<B> Subir:</B> <A NAME="tex2html4642"
  HREF="node61.html">Tipos de Datos y</A>
<B> Anterior:</B> <A NAME="tex2html4636"
  HREF="node83.html">Congelación: freezing</A>
 &nbsp; <B>  <A NAME="tex2html4644"
  HREF="node849.html">&#205;ndice General</A></B> 
 &nbsp; <B>  <A NAME="tex2html4646"
  HREF="node852.html">&#205;ndice de Materias</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Casiano Rodriguez León
2014-12-03
</ADDRESS>
</BODY>
</HTML>
