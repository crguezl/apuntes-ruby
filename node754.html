<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>OmniAuth gem: Standardized Multi-Provider Authentication for Ruby</TITLE>
<META NAME="description" CONTENT="OmniAuth gem: Standardized Multi-Provider Authentication for Ruby">
<META NAME="keywords" CONTENT="perlexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="next" HREF="node756.html">
<LINK REL="previous" HREF="node751.html">
<LINK REL="up" HREF="node749.html">
<LINK REL="next" HREF="node755.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html16284"
  HREF="node755.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html16278"
  HREF="node749.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html16272"
  HREF="node753.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html16280"
  HREF="node840.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html16282"
  HREF="node843.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html29"
  HREF="http://tinyurl.com/lpp1415"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="LPP moodle"></A><A NAME="tex2html30"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5678"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="SYTW moodle"></A><A NAME="tex2html31"
  HREF="perlexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="pdf"></A><A NAME="tex2html32"
  HREF="https://dl.dropbox.com/u/14539152/LPP/LPPbook/index.html"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html33"
  HREF="http://www.ruby-doc.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html34"
  HREF="http://www.github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html35"
  HREF="http://rubylearning.com/blog/"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="blogs"></A><A NAME="tex2html36"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html37"
  HREF="http://www.ull.es/view/centros/etsii/Inicio/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html38"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html39"
  HREF="https://plus.google.com/u/0/communities/115470806071217401678"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-lpp-1314"></A><A NAME="tex2html40"
  HREF="https://plus.google.com/u/0/communities/109091480492072495700"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-stw-1314"></A>
<BR>
<B> Siguiente:</B> <A NAME="tex2html16285"
  HREF="node755.html">Auth Hash Schema</A>
<B> Subir:</B> <A NAME="tex2html16279"
  HREF="node749.html">OAuth</A>
<B> Anterior:</B> <A NAME="tex2html16273"
  HREF="node753.html">Keys, access, security, and</A>
 &nbsp; <B>  <A NAME="tex2html16281"
  HREF="node840.html">&#205;ndice General</A></B> 
 &nbsp; <B>  <A NAME="tex2html16283"
  HREF="node843.html">&#205;ndice de Materias</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION061430000000000000000">
OmniAuth gem: Standardized Multi-Provider Authentication for Ruby</A>
</H1>
<P>
<UL>
<LI><A NAME="tex2html1781"
  HREF="http://intridea.github.io/omniauth/">OmniAuth</A>
</LI>
</UL>
<P>
<I>OmniAuth is a library that standardizes multi-provider authentication
for web applications. Any developer can create <A NAME="31040"></A><SPAN  CLASS="textbf">strategies</SPAN> for
OmniAuth that can
authenticate users via disparate systems. 
</I>
<P>
<I>OmniAuth strategies have been created for everything from Facebook to LDAP.
</I>
<P>
<I>To use OmniAuth, you need only 
</I>
<OL>
<LI>to redirect users to <code>/auth/:provider</code>,
where <code>:provider</code> is the name of the strategy 
(for example, <code>developer</code> or <code>twitter</code>). 

<P>
</LI>
<LI>From there, OmniAuth will take over and take the
user through the necessary steps to authenticate them with the chosen strategy.

<P>
</LI>
<LI>Once the user has authenticated, 
OmniAuth sets a special hash called the <A NAME="31042"></A><SPAN  CLASS="textbf">Authentication Hash</SPAN> 
on the Rack environment of a request to <code>/auth/:provider/callback</code>. 

<P>
</LI>
<LI>This hash
contains as much information about the user as OmniAuth was able to
glean from the utilized strategy. 

<P>
</LI>
<LI>
<FONT COLOR="#ff0000"> You should set up an endpoint in your
application that matches to the callback URL and then
performs whatever steps are necessary for your application</FONT>. 
</LI>
</OL>
<P>
<H4><A NAME="SECTION061430010000000000000">
Getting Started</A>
</H4>
<P>
<I>To use OmniAuth in a project with a Gemfile, just add each of the

<FONT COLOR="#0000ff"> strategies</FONT> you want to use individually:
</I>
<P><PRE>
gem 'omniauth-github'
gem 'omniauth-openid'
</PRE>
<P>
<I>Now you can use the <code>OmniAuth::Builder</code> 
Rack middleware 
<FONT COLOR="#0000ff"> to build up your
list of OmniAuth strategies for use in your application</FONT>:
</I>
<P>
<I>Para saber mas sobre Rack y sobre Middlewares Rack,
véanse las secciones 
</I>
<UL>
<LI>Rack en <A HREF="#chapter:rack"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>,
</LI>
<LI><I>Middleware y la Clase Rack::Builder</I> en <A HREF="#section:middleware"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A> 
y
</LI>
<LI><I>La Estructura de una Aplicación Rack</I>
en
<A HREF="#section:estructuradeunaapprack"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>
</LI>
</UL>
<P><PRE>
use OmniAuth::Builder do
  provider:github, ENV['GITHUB_KEY'], ENV['GITHUB_SECRET']
  provider:openid, :store =&gt; OpenID::Store::Filesystem.new('/tmp')
end
</PRE><I>
By default, OmniAuth will return auth information to the path
<code>/auth/:provider/callback</code> inside the Rack environment. 
</I>
<P>
<I>In Sinatra, for
example, a callback might look something like this:
</I>
<P><PRE>
# Support both GET and POST for callbacks
%w(get post).each do |method|
  send(method, "/auth/:provider/callback") do
    env['omniauth.auth'] # =&gt; OmniAuth::AuthHash
  end
end
</PRE>
<P>
<I>Also of note, by default, if user authentication fails on the provider
side, OmniAuth will catch the response and then redirect the request
to the path <code>/auth/failure</code>,
 passing a corresponding error message in a
parameter named <code>message</code>. 
</I>
<P>
<I>You may want to add an action to catch these
cases. Continuing with the previous Sinatra example, you could add an
action like this:
</I>
<P><PRE>
get '/auth/failure' do
  flash[:notice] = params[:message] # if using sinatra-flash or rack-flash
  redirect '/'
end
</PRE>
<P>
<H4><A NAME="SECTION061430020000000000000">
Strategies</A>
</H4>
<P>
<I>In this link we can find a list of the strategies that are available for OmniAuth:
<A NAME="tex2html1782"
  HREF="https://github.com/intridea/omniauth/wiki/List-of-Strategies">List of Strategies for Omniauth</A>.
</I>
<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsecciones</STRONG></A>

<UL CLASS="ChildLinks">
<LI><UL>
<LI><UL>
<LI><A NAME="tex2html16286"
  HREF="node754.html#SECTION061430010000000000000">Getting Started</A>
<LI><A NAME="tex2html16287"
  HREF="node754.html#SECTION061430020000000000000">Strategies</A>
</UL>
</UL>
<BR>
<LI><A NAME="tex2html16288"
  HREF="node755.html">Auth Hash Schema</A>
<UL>
<LI><A NAME="tex2html16289"
  HREF="node755.html#SECTION061431010000000000000">Ejemplos</A>
<LI><A NAME="tex2html16290"
  HREF="node755.html#SECTION061431020000000000000">Documentación de la Gema</A>
<LI><A NAME="tex2html16291"
  HREF="node755.html#SECTION061431030000000000000">Véase</A>
</UL></UL>
<!--End of Table of Child-Links-->

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html16284"
  HREF="node755.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html16278"
  HREF="node749.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html16272"
  HREF="node753.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html16280"
  HREF="node840.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html16282"
  HREF="node843.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html29"
  HREF="http://tinyurl.com/lpp1415"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="LPP moodle"></A><A NAME="tex2html30"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5678"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="SYTW moodle"></A><A NAME="tex2html31"
  HREF="perlexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="pdf"></A><A NAME="tex2html32"
  HREF="https://dl.dropbox.com/u/14539152/LPP/LPPbook/index.html"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html33"
  HREF="http://www.ruby-doc.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html34"
  HREF="http://www.github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html35"
  HREF="http://rubylearning.com/blog/"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="blogs"></A><A NAME="tex2html36"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html37"
  HREF="http://www.ull.es/view/centros/etsii/Inicio/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html38"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html39"
  HREF="https://plus.google.com/u/0/communities/115470806071217401678"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-lpp-1314"></A><A NAME="tex2html40"
  HREF="https://plus.google.com/u/0/communities/109091480492072495700"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-stw-1314"></A>
<BR>
<B> Siguiente:</B> <A NAME="tex2html16285"
  HREF="node755.html">Auth Hash Schema</A>
<B> Subir:</B> <A NAME="tex2html16279"
  HREF="node749.html">OAuth</A>
<B> Anterior:</B> <A NAME="tex2html16273"
  HREF="node753.html">Keys, access, security, and</A>
 &nbsp; <B>  <A NAME="tex2html16281"
  HREF="node840.html">&#205;ndice General</A></B> 
 &nbsp; <B>  <A NAME="tex2html16283"
  HREF="node843.html">&#205;ndice de Materias</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Casiano Rodriguez León
2014-11-28
</ADDRESS>
</BODY>
</HTML>
