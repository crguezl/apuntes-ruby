
<H2><A NAME="SECTION027120000000000000000"><tex2html_anchor_invisible_mark></A>
   <A NAME="7625"><tex2html_anchor_invisible_mark></A><BR>
Práctica: La Clase Punto del Plano
</H2>
  

<P>

<UL>
<LI>Defina una clase <tex2html_verb_mark>618<tex2html_verb_mark> que represente puntos <tex2html_verb_mark>619<tex2html_verb_mark>del plano cartesiano.
</LI>
<LI>Defina el método <tex2html_verb_mark>620<tex2html_verb_mark>
</LI>
<LI>Defina métodos para el acceso a los atributos
</LI>
<LI>Defina la suma de puntos <tex2html_verbatim_mark>#math3511#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline47954#</SPAN>.
Compruebe que el objeto sumado hereda de la clase <tex2html_verb_mark>621<tex2html_verb_mark> usando el predicado <tex2html_verb_mark>622<tex2html_verb_mark>.
</LI>
<LI>Defina el producto de un vector/punto por un escalar <tex2html_verbatim_mark>#math3512#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline47956#</SPAN>
</LI>
<LI>Para que un entero se pueda multiplicar por un punto <tex2html_verb_mark>623<tex2html_verb_mark> es necesario definir un método
<tex2html_verb_mark>624<tex2html_verb_mark> en la clase <tex2html_verb_mark>625<tex2html_verb_mark>:
<PRE><tex2html_verbatim_mark>verbatim796#</PRE>
Los tipos numéricos definen un método de conversión denominado <tex2html_verb_mark>626<tex2html_verb_mark>.
Cuando se llama al método <tex2html_verb_mark>627<tex2html_verb_mark> de <tex2html_verb_mark>628<tex2html_verb_mark>: <tex2html_verb_mark>629<tex2html_verb_mark>
este llamará primero al método <tex2html_verb_mark>630<tex2html_verb_mark> de <tex2html_verb_mark>631<tex2html_verb_mark> y después 
intentará multiplicar los elementos del array retornado.
<PRE><tex2html_verbatim_mark>verbatim797#</PRE>
defina <tex2html_verb_mark>632<tex2html_verb_mark> de manera que pueda multiplicarse un escalar por un <tex2html_verb_mark>633<tex2html_verb_mark>.
</LI>
<LI>Defina el opuesto de un punto <tex2html_verbatim_mark>#math3513#<SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline47958#</SPAN>.
El método para definir el menos unario se llama <tex2html_verb_mark>634<tex2html_verb_mark>:
<PRE><tex2html_verbatim_mark>verbatim798#</PRE>
Al ejecutarse produce:
<PRE><tex2html_verbatim_mark>verbatim799#</PRE>
</LI>
<LI>Redefine el método <tex2html_verb_mark>635<tex2html_verb_mark> de manera que pueda accederse a un punto como si fuera un array
de sólo lectura.
Permite el uso de índices negativos.
También debería poder accederse usando una notación hash. Por ejemplo, el código:
<PRE><tex2html_verbatim_mark>verbatim800#</PRE>
Debería producir como salida:
<PRE><tex2html_verbatim_mark>verbatim801#</PRE>
Un hash es una estructura de datos que asocia a cada uno de los elementos de un conjunto de objetos
denominados <#6869#><I>claves</I><#6869#>  un <#6870#><I>valor</I><#6870#>:
<PRE><tex2html_verbatim_mark>verbatim802#</PRE>
</LI>
<LI>Si queremos que los objetos de una clase 
puedan ser usados como claves de un hash es necesario que dispongan de un método <tex2html_verb_mark>636<tex2html_verb_mark>
que retorne un código hash de tipo <A NAME="tex2html363"
  HREF="http://www.ruby-doc.org/core-1.8.7/classes/Fixnum.html">Fixnum</A>.
La clase <A NAME="tex2html364"
  HREF="http://www.ruby-doc.org/core-1.8.7/classes/Hash.html">Hash</A>
compara las claves 
usando el predicado <tex2html_verb_mark>637<tex2html_verb_mark>. Este predicado es similar a <tex2html_verb_mark>638<tex2html_verb_mark> 
pero es mas restrictivo. Por ejemplo, en las subclases de <tex2html_verb_mark>639<tex2html_verb_mark>
<tex2html_verb_mark>640<tex2html_verb_mark> permite la conversión de tipos mientras que <tex2html_verb_mark>641<tex2html_verb_mark> no:
<PRE><tex2html_verbatim_mark>verbatim803#</PRE>
Permita que los objetos <tex2html_verb_mark>642<tex2html_verb_mark> puedan ser usados como índices de un hash.
El siguiente código:
<PRE><tex2html_verbatim_mark>verbatim804#</PRE>
deberá producir como salida:
<PRE><tex2html_verbatim_mark>verbatim805#</PRE>
Para eso deberá definir:

<UL>
<LI>El método <tex2html_verb_mark>643<tex2html_verb_mark> de un <tex2html_verb_mark>644<tex2html_verb_mark>:
Puede usar con algoritmo de hashcode el descrito 
en <A NAME="tex2html365"
  HREF="http://www.linuxtopia.org/online_books/programming_books/thinking_in_java/TIJ313_029.htm">Effective Java (Addison-Wesley 2001) por Joshua Bloch </A>
</LI>
<LI>El predicado <tex2html_verb_mark>645<tex2html_verb_mark>. El predicado deberá retornar <tex2html_verb_mark>646<tex2html_verb_mark> si el otro objeto es exactamente de la clase
<tex2html_verb_mark>647<tex2html_verb_mark>. Véase el método <tex2html_verb_mark>648<tex2html_verb_mark>:
<PRE><tex2html_verbatim_mark>verbatim806#</PRE>
</LI>
</UL>
</LI>
<LI>Defina un método <tex2html_verb_mark>649<tex2html_verb_mark> que produzca primero la primera coordenada y después la segunda.
Incluya el módulo 
<A NAME="tex2html366"
  HREF="http://www.ruby-doc.org/core/classes/Enumerable.html">Enumerable</A>
y compruebe que puede usar algunos de los métodos proveídos 
por este como <tex2html_verb_mark>650<tex2html_verb_mark> y <tex2html_verb_mark>651<tex2html_verb_mark>.
</LI>
<LI>Redefina el método <tex2html_verb_mark>652<tex2html_verb_mark> para que dos puntos sean iguales si sus coordenadas son iguales.
Siguen dos posibles implementaciones:
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT" VALIGN="TOP" WIDTH=142><PRE><tex2html_verbatim_mark>verbatim807#</PRE></TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=142><PRE><tex2html_verbatim_mark>verbatim808#</PRE></TD>
</TR>
</TABLE>
¿Sabría decir cual es la diferencia entre ambas?
</LI>
<LI>Incluya el módulo <A NAME="tex2html367"
  HREF="http://www.ruby-doc.org/core-1.8.7/classes/Comparable.html">Comparable</A>.
Defina el método <tex2html_verb_mark>653<tex2html_verb_mark> <#6901#><I>guerra de las galaxias</I><#6901#> de manera que  dos <tex2html_verb_mark>654<tex2html_verb_mark> se comparan según su distancia
al origen de coordenadas.  Si <tex2html_verb_mark>655<tex2html_verb_mark> es menor que el objeto, <tex2html_verb_mark>656<tex2html_verb_mark> deberá retornar <tex2html_verb_mark>657<tex2html_verb_mark>, si son iguales <tex2html_verb_mark>658<tex2html_verb_mark>
y <tex2html_verb_mark>659<tex2html_verb_mark> si es mayor.
Compruebe que puede usar los métodos proveídos por <tex2html_verb_mark>660<tex2html_verb_mark>.

<P>
Este programa:
<PRE><tex2html_verbatim_mark>verbatim809#</PRE>
Deberá producir una salida como esta:
<PRE><tex2html_verbatim_mark>verbatim810#</PRE>
</LI>
<LI>Incluya el módulo enumerable y compruebe que funcionan los métodos 
<tex2html_verb_mark>661<tex2html_verb_mark>, <tex2html_verb_mark>662<tex2html_verb_mark> y <tex2html_verb_mark>663<tex2html_verb_mark>
</LI>
<LI>Defina una clase <tex2html_verb_mark>664<tex2html_verb_mark> que reutilice y herede de <tex2html_verb_mark>665<tex2html_verb_mark> y que tenga las mismas funcionalidades.
</LI>
</UL>

<P>
