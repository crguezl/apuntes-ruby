
<H2><A NAME="SECTION02822000000000000000"><tex2html_anchor_invisible_mark></A>
<A NAME="subsection:instanceevalyclasseval"><tex2html_anchor_mark></A><BR>
instance_eval y class_eval
</H2>

<P>

<UL>
<LI>La clase <A NAME="9780"><tex2html_anchor_invisible_mark></A><A NAME="tex2html465"
  HREF="http://ruby-doc.org/core-2.0.0/BasicObject.html"><TT>BasicObject</TT></A>
define el método <A NAME="9784"><tex2html_anchor_invisible_mark></A><A NAME="tex2html466"
  HREF="http://ruby-doc.org/core-2.0.0/BasicObject.html#method-i-instance_eval"><TT>instance_eval</TT></A>.
<PRE><tex2html_verbatim_mark>verbatim1015#</PRE>
</LI>
<LI>La clase <A NAME="9788"><tex2html_anchor_invisible_mark></A><A NAME="tex2html467"
  HREF="http://ruby-doc.org/core-2.0.0/Module.html"><TT>Module</TT></A>
define el método <A NAME="9792"><tex2html_anchor_invisible_mark></A><A NAME="tex2html468"
  HREF="http://ruby-doc.org/core-2.0.0/Module.html#method-i-class_eval"><TT>class_eval</TT></A>.
</LI>
<LI>El método <A NAME="9796"><tex2html_anchor_invisible_mark></A><A NAME="tex2html469"
  HREF="http://ruby-doc.org/core-2.0.0/Module.html#method-i-module_eval"><TT>module_eval</TT></A>
es un sinónimo de <A NAME="9800"><tex2html_anchor_invisible_mark></A><A NAME="tex2html470"
  HREF="http://ruby-doc.org/core-2.0.0/Module.html#method-i-class_eval"><TT>class_eval</TT></A>.
</LI>
</UL>
Estos dos métodos evaluan de manera similar a <tex2html_verb_mark>1016<tex2html_verb_mark> pero con estas consideraciones:

<OL>
<LI>Evaluan el código en el contexto del objeto o de la clase o módulo especificados
</LI>
<LI>El objeto o módulo es el valor de <tex2html_verb_mark>1017<tex2html_verb_mark> durante la evaluación
</LI>
<LI><A NAME="9804"><tex2html_anchor_invisible_mark></A><A NAME="tex2html471"
  HREF="http://ruby-doc.org/core-2.0.0/BasicObject.html#method-i-instance_eval"><TT>instance_eval</TT></A>
define métodos singleton del objeto 
(y, por tanto define métodos de clase cuando el objeto es una clase)
<PRE><tex2html_verbatim_mark>verbatim1016#</PRE>
</LI>
<LI><A NAME="9808"><tex2html_anchor_invisible_mark></A><A NAME="tex2html472"
  HREF="http://ruby-doc.org/core-2.0.0/Module.html#method-i-class_eval"><TT>class_eval</TT></A>
define métodos de instancia 
<PRE><tex2html_verbatim_mark>verbatim1017#</PRE>
</LI>
<LI><A NAME="9812"><tex2html_anchor_invisible_mark></A><A NAME="tex2html473"
  HREF="http://ruby-doc.org/core-2.0.0/Object.html#method-i-instance_eval"><TT>instance_eval</TT></A>
y  <A NAME="9816"><tex2html_anchor_invisible_mark></A><A NAME="tex2html474"
  HREF="http://ruby-doc.org/core-2.0.0/Module.html#method-i-class_eval"><TT>class_eval</TT></A>
aceptan un bloque de código como argumento para la evaluación
<PRE><tex2html_verbatim_mark>verbatim1018#</PRE>

<P>
</LI>
<LI>La sintáxis de <A NAME="9820"><tex2html_anchor_invisible_mark></A><A NAME="tex2html475"
  HREF="http://ruby-doc.org/core-2.0.0/BasicObject.html#method-i-instance_eval"><TT>instance_eval</TT></A>
es:
<PRE><tex2html_verbatim_mark>verbatim1019#</PRE>
En el caso de la <A NAME="tex2html476"
  HREF="http://ruby-doc.org/core-2.0.0/String.html"><TT>String</TT></A><#8955#><#8955#>, los dos últimos argumentos 
son utilizados para mejorar los mensajes de error
</LI>
<LI>El método <A NAME="9827"><tex2html_anchor_invisible_mark></A><A NAME="tex2html477"
  HREF="http://ruby-doc.org/core-2.0.0/Module.html#method-i-class_eval"><TT>class_eval</TT></A>
tiene la sintaxis:

<P>
<PRE><tex2html_verbatim_mark>verbatim1020#</PRE>
</LI>
</OL>
Veamos un ejemplo:

<P>
<tex2html_verbatim_mark>rawhtml1021#

<P>
Los dos últimos argumentos 
<tex2html_verb_mark>1018<tex2html_verb_mark>
son utilizados para mejorar los mensajes de error:

<P>
<PRE><tex2html_verbatim_mark>verbatim1022#</PRE>
Ejecución:
<PRE><tex2html_verbatim_mark>verbatim1023#</PRE>

<P>

<H3><A NAME="SECTION02822100000000000000">
Creando accessors con class_eval</A>
</H3>
Sabemos que podemos crear accessors a los atributos de una clase
usando <tex2html_verb_mark>1019<tex2html_verb_mark>, <tex2html_verb_mark>1020<tex2html_verb_mark> y <tex2html_verb_mark>1021<tex2html_verb_mark>.
Estas no son palabras reservadas de Ruby sino que se trata de métodos.
Veamos como podemos emular su construcción  usando <A NAME="9831"><tex2html_anchor_invisible_mark></A><A NAME="tex2html478"
  HREF="http://ruby-doc.org/core-2.0.0/Module.html#method-i-class_eval"><TT>class_eval</TT></A>:

<P>
<PRE><tex2html_verbatim_mark>verbatim1024#</PRE>

<P>
