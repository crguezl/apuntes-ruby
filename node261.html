
<H2><A NAME="SECTION028123000000000000000">
Dos DSLs: Generando XML con Validación via Generación de Métodos</A>
</H2>

<P>

<H4><A NAME="SECTION028123010000000000000">
Primer DSL: Lenguaje para la Generación de XML</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>

<PRE><tex2html_verbatim_mark>verbatim1116#</PRE>

<P>

<H4><A NAME="SECTION028123020000000000000">
XML Generado</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>
<PRE><tex2html_verbatim_mark>verbatim1117#</PRE>

<P>

<H4><A NAME="SECTION028123030000000000000">
Visualización del HTML Generado</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>

<DIV ALIGN="CENTER"><A NAME="figure:formulario"><tex2html_anchor_mark></A><A NAME="9306"><tex2html_anchor_mark></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG><#48101#>Figura<#48101#> 14.1:</STRONG>
<#48102#>Formulario generado<#48102#></CAPTION>
<TR><TD><DIV ALIGN="CENTER">
<IMG
  WIDTH="1351" HEIGHT="336" ALIGN="BOTTOM" BORDER="0"
 SRC="./form.png"
 ALT="Image form">

</DIV></TD></TR>
</TABLE>
</DIV>


<P>

<H4><A NAME="SECTION028123040000000000000">
Segundo DSL: Lenguaje para la Generación del DSL Anterior y su Validación</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>
Este DSL permite describir una gramática XML: que tags son permitidos
y para cada tag que atributos son legales y de que tipo son.
Se usaría así:

<P>
<PRE><tex2html_verbatim_mark>verbatim1118#</PRE>

<P>
El método <tex2html_verb_mark>1121<tex2html_verb_mark> construye un método de instancia 
con el nombre especificado (por ejemplo, <tex2html_verb_mark>1122<tex2html_verb_mark>) como primer
argumento en la subclase (<tex2html_verb_mark>1123<tex2html_verb_mark> en el ejemplo).
Como segundo argumento opcional recibe un hash especificando los atributos 
legales del elemento y de que tipo son (<tex2html_verb_mark>1124<tex2html_verb_mark> por requerido, <tex2html_verb_mark>1125<tex2html_verb_mark> por opcional,
una <A NAME="tex2html529"
  HREF="http://ruby-doc.org/core-2.0.0/String.html"><TT>String</TT></A><#9311#><#9311#> como en <tex2html_verb_mark>1126<tex2html_verb_mark> indica valor por defecto y <tex2html_verb_mark>1127<tex2html_verb_mark> para atributos
cuyo valor es su propio nombre.

<P>
En el código anterior se crean métodos <tex2html_verb_mark>1128<tex2html_verb_mark>, <tex2html_verb_mark>1129<tex2html_verb_mark>, <tex2html_verb_mark>1130<tex2html_verb_mark>, <tex2html_verb_mark>1131<tex2html_verb_mark>
y <tex2html_verb_mark>1132<tex2html_verb_mark> en la clase <tex2html_verb_mark>1133<tex2html_verb_mark>.

<P>

<H4><A NAME="SECTION028123050000000000000">
La Clase <TT>XMLGrammar</TT></A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>
<PRE><tex2html_verbatim_mark>verbatim1119#</PRE>

<P>

<H4><A NAME="SECTION028123060000000000000">
Código Completo</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>
<PRE><tex2html_verbatim_mark>verbatim1120#</PRE>

<P>
