
<H1><A NAME="SECTION02720000000000000000"><tex2html_anchor_invisible_mark></A>
<A NAME="section:visibilidaddelosmetodos"><tex2html_anchor_mark></A><BR>
Visibilidad de los métodos: Público, Privado, Protegido
</H1>

<P>

<UL>
<LI><A NAME="7626"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textbf">Encapsulation</SPAN> means that the internal representation of an object is generally hidden from view outside of the object's definition. Typically, only the object's own methods can directly inspect or manipulate its fields. Smalltalk and Ruby only allow access via object methods,
</LI>
<LI><A NAME="7628"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textbf">The Uniform Access Principle</SPAN> was put forth by <A NAME="tex2html368"
  HREF="http://en.wikipedia.org/wiki/Bertrand_Meyer">Bertrand Meyer</A>. It states 
<#6914#><I>All services offered by a module should be available through a uniform notation, which does not betray whether they are implemented through storage or through computation</I><#6914#>.

<P>
This principle applies generally to the syntax of object-oriented programming languages. 
In simpler form, it states that there should be no difference between working with an attribute, precomputed property, or method/query:

<OL>
<LI><PRE><tex2html_verbatim_mark>verbatim811#</PRE>
Here we’ve used attribute methods to create a virtual instance
variable. To the outside world, <tex2html_verb_mark>666<tex2html_verb_mark> seems to be an
attribute like any other. Internally, though, it has no corre-
sponding instance variable.
</LI>
<LI><PRE><tex2html_verbatim_mark>verbatim812#</PRE>
</LI>
</OL>
</LI>
<LI>Los métodos son normalmente <tex2html_verb_mark>667<tex2html_verb_mark> a menos que sean explícitamente declarados como <tex2html_verb_mark>668<tex2html_verb_mark> o <tex2html_verb_mark>669<tex2html_verb_mark>. 
</LI>
<LI>Una excepción es <tex2html_verb_mark>670<tex2html_verb_mark> que es implícitamente privado.
</LI>
<LI>Otra excepción son los métodos declarados fuera de cualquier definición de clase: son declarados como métodos de instancia privados de la clase <A NAME="tex2html369"
  HREF="http://ruby-doc.org/core-2.0.0/Object.html"><TT>Object</TT></A><#6921#><#6921#>
<PRE><tex2html_verbatim_mark>verbatim813#</PRE>

<P>
<PRE><tex2html_verbatim_mark>verbatim814#</PRE>
</LI>
</UL>

<P>

<UL>
<LI>Un método público puede ser llamado desde cualquier lugar
</LI>
<LI>Si <tex2html_verb_mark>671<tex2html_verb_mark> es un método privado, deberá ser invocado implícitamente en <tex2html_verb_mark>672<tex2html_verb_mark>,
esto es, como <#6928#><I>función, <tex2html_verb_mark>673<tex2html_verb_mark></I><#6928#>,
y no con receptor explícito: (<tex2html_verb_mark>674<tex2html_verb_mark> o bien <tex2html_verb_mark>675<tex2html_verb_mark>).
</LI>
<LI>Esto es, un método privado es siempre invocado implícitamente en <tex2html_verb_mark>676<tex2html_verb_mark>
y no debe ser invocado explícitamente en un objeto
</LI>
<LI>Las subclases pueden invocar y sobreescribir los métodos <tex2html_verb_mark>677<tex2html_verb_mark>

<P>
</LI>
<LI>Al igual que los métodos privados, los métodos <tex2html_verb_mark>678<tex2html_verb_mark>
pueden ser invocados desde  la clase  o sus subclases
</LI>
<LI>A diferencia de los métodos privados, los métodos <tex2html_verb_mark>679<tex2html_verb_mark>
pueden ser invocados en cualquier objeto de la clase
y no implican la invocación implícita via <tex2html_verb_mark>680<tex2html_verb_mark>
</LI>
<LI>La visibilidad de los métodos se declara mediante tres <SPAN  CLASS="textbf">métodos</SPAN>:
<tex2html_verb_mark>681<tex2html_verb_mark>, <tex2html_verb_mark>682<tex2html_verb_mark> y <tex2html_verb_mark>683<tex2html_verb_mark>. 

<P>
</LI>
<LI>Estos tres métodos son métodos 
de instancia de la clase <tex2html_verb_mark>684<tex2html_verb_mark>.

<P>
</LI>
<LI>Como todas las clases son módulos y dentro de una definición de clase
(pero fuera de las definiciones de métodos) <tex2html_verb_mark>685<tex2html_verb_mark> se refiere a la clase, podemos usar 
estos métodos <tex2html_verb_mark>686<tex2html_verb_mark>, <tex2html_verb_mark>687<tex2html_verb_mark> y <tex2html_verb_mark>688<tex2html_verb_mark> como si de palabras reservadas se tratara.

<P>
</LI>
<LI>Una clase puede usarlos así:
<PRE><tex2html_verbatim_mark>verbatim815#</PRE>
</LI>
<LI>También pueden ser invocados con los nombres de uno o mas métodos (como símbolos o como
cadenas). En tal caso la declaración de visibilidad viene después de la definición del método
y altera la visibilidad del método con ese nombre.

<P>
</LI>
<LI>Una aproximación es declarar todos los métodos protegidos y privados de golpe,
al final de la clase

<P>
</LI>
<LI>Otra aproximación es declarar la visbilidad justo después de la definición del método:
<PRE><tex2html_verbatim_mark>verbatim816#</PRE>
</LI>
<LI>Si se desea declarar un método de clase como privado se usa el <SPAN  CLASS="textbf">método</SPAN>
<tex2html_verb_mark>689<tex2html_verb_mark>:
<PRE><tex2html_verbatim_mark>verbatim817#</PRE>
</LI>
<LI>Si se desea hacer público de nuevo un método de clase privado se usa el 
método <tex2html_verb_mark>690<tex2html_verb_mark>
</LI>
<LI>Las capacidades de metaprogramación de Ruby hacen posible
invocar métodos privados y protegidos e incluso el acceso a variables 
encapsuladas:
<PRE><tex2html_verbatim_mark>verbatim818#</PRE>
Cuando ejecutamos, obtenemos:
<PRE><tex2html_verbatim_mark>verbatim819#</PRE>

<P>
Utilice <tex2html_verb_mark>691<tex2html_verb_mark> en vez de <tex2html_verb_mark>692<tex2html_verb_mark> si no se quiere que, 
por error, se llame inadvertidamente a un método privado.
</LI>
</UL>

<P>
