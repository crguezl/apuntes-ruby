
<H2><A NAME="SECTION02657000000000000000">
Bloques para las Transacciones</A>
</H2>

<P>
You can use blocks to define a chunk of code that must be run under some kind of transactional control. 

<P>
For example, you’ll often open a file, do something with its contents, and then want to ensure that the file is closed when you finish. 

<P>
A naive implementation (ignoring error handling) could look something like the following:

<P>
<PRE><tex2html_verbatim_mark>verbatim558#</PRE>
 The responsibility for closing an open file has been shifted from
 the users of file objects back to the file objects themselves.
<PRE><tex2html_verbatim_mark>verbatim559#</PRE>
If we wanted to implement this method properly, we’d need
to ensure that we closed a file even if the code processing that file somehow aborted. 

<P>

<OL>
<LI>As a similar  example, we could extend this <tex2html_verb_mark>392<tex2html_verb_mark> method to 
support some sort of rolling back transaction, 
making a backup copy of the file being open, and then restoring it 
if an exception is produced or deleting it if everything went fine. 
</LI>
</OL>

<P>

<H4><A NAME="SECTION02657010000000000000">
Véase</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<OL>
<LI><A NAME="tex2html249"
  HREF="http://blog.rubybestpractices.com/posts/gregory/009-beautiful-blocks.html">Ruby Best Practices.  Code Blocks: Ruby's Swiss Army Knife. 2009-07-07 written by Gregory Brown</A>
</LI>
</OL>

<P>
