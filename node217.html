<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Los Módulos como Espacios de Nombres</TITLE>
<META NAME="description" CONTENT="Los Módulos como Espacios de Nombres">
<META NAME="keywords" CONTENT="perlexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="next" HREF="node218.html">
<LINK REL="previous" HREF="node216.html">
<LINK REL="up" HREF="node216.html">
<LINK REL="next" HREF="node218.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html6926"
  HREF="node218.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html6920"
  HREF="node216.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html6914"
  HREF="node216.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html6922"
  HREF="node849.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html6924"
  HREF="node852.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html29"
  HREF="http://tinyurl.com/lpp1415"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="LPP moodle"></A><A NAME="tex2html30"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5678"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="SYTW moodle"></A><A NAME="tex2html31"
  HREF="perlexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="pdf"></A><A NAME="tex2html32"
  HREF="https://dl.dropbox.com/u/14539152/LPP/LPPbook/index.html"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html33"
  HREF="http://www.ruby-doc.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html34"
  HREF="http://www.github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html35"
  HREF="http://rubylearning.com/blog/"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="blogs"></A><A NAME="tex2html36"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html37"
  HREF="http://www.ull.es/view/centros/etsii/Inicio/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html38"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html39"
  HREF="https://plus.google.com/u/0/communities/115470806071217401678"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-lpp-1314"></A><A NAME="tex2html40"
  HREF="https://plus.google.com/u/0/communities/109091480492072495700"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-stw-1314"></A>
<BR>
<B> Siguiente:</B> <A NAME="tex2html6927"
  HREF="node218.html">Los Módulos como Mixins</A>
<B> Subir:</B> <A NAME="tex2html6921"
  HREF="node216.html">Módulos</A>
<B> Anterior:</B> <A NAME="tex2html6915"
  HREF="node216.html">Módulos</A>
 &nbsp; <B>  <A NAME="tex2html6923"
  HREF="node849.html">&#205;ndice General</A></B> 
 &nbsp; <B>  <A NAME="tex2html6925"
  HREF="node852.html">&#205;ndice de Materias</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsecciones</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html6928"
  HREF="node217.html#SECTION02771100000000000000">Ejemplo Simple</A>
<LI><A NAME="tex2html6929"
  HREF="node217.html#SECTION02771200000000000000">Ejemplo: Codificar y Decodificar Datos Usando Base64</A>
<LI><A NAME="tex2html6930"
  HREF="node217.html#SECTION02771300000000000000">Espacios de Nombres Anidados</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H2><A NAME="SECTION02771000000000000000">
Los Módulos como Espacios de Nombres</A>
</H2>
  Al definir un módulo se crea una constante con el mismo nombre del módulo.
  El valor de dicha constante es el objeto <code>Module</code> que representa al módulo.

<P>

<H3><A NAME="SECTION02771100000000000000">
Ejemplo Simple</A>
</H3>

<P>
<BLOCKQUOTE>
Say you write a set of the trigonometry functions <code>sin</code>, cos,
and so on. You stuff them all into a file, <code>trig.rb</code>, for
future generations to enjoy. Meanwhile, Sally is working on a
simulation of good and evil, and she codes a set of her own useful
routines, including <code>be_good</code> and <code>sin</code>, and sticks them
into <code>moral.rb</code>. Joe, who wants to write a program to find out
how many angels can dance on the head of a pin, needs to load both
<code>trig.rb</code> and <code>moral.rb</code> into his program. But both define
a method called <code>sin</code>. Bad news.
</BLOCKQUOTE>
<P>
<BLOCKQUOTE>The answer is the module mechanism. Modules define a namespace, a
sandbox in which your methods and constants can play without having
to worry about being stepped on by other methods and constants. The
trig functions can go into one module:
</BLOCKQUOTE>
<P>
<BLOCKQUOTE>
<DIV ALIGN="RIGHT">Dave Thomas
</BLOCKQUOTE>
<P>

<P>
<PRE>
module Trig
  PI = 3.141592654
  def Trig.sin(x)
   # ..
  end
  def Trig.cos(x)
   # ..
  end
end
</PRE>

<P>
<PRE>
# Sample code from Programing Ruby, page 111
module Moral
  VERY_BAD = 0
  BAD      = 1
  def Moral.sin(badness)
    # ...
  end
end
</PRE>
If a third program wants to use these modules, it can simply load
the two files (using the Ruby require statement. In order to reference
the name sin unambiguously, our code can then qualify the name using
the name of the module containing the implementation we want,
followed by <code>::</code>, the scope resolution operator:

<P>
<PRE>
$: &lt;&lt; '.'
require 'trig'
require 'moral'

y = Trig.sin(Trig::PI/4)
wrongdoing = Moral.sin(Moral::VERY_BAD)
</PRE>

<P>

<H3><A NAME="SECTION02771200000000000000">
Ejemplo: Codificar y Decodificar Datos Usando Base64</A>
</H3>
Supongamos que estamos un método para codificar y decodificar datos
binarios utilizando la codificación <code>Base64</code>. Puesto que <code>encode</code> y <code>decode</code>
son dos nombres muy comunes, 
para preveer colisiones de nombres definimos nuestros dos métodos
dentro de un módulo:

<P>
<PRE>
casiano@exthost:~/rubytesting/TheRubyProgrammingLanguage/Chapter7ClassesAndModules/modules$ cat -n base64_mod_self.rb
     1   module Base64
     2    
     3   puts self  # Base64
     4  
     5   DIGITS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' +
     6            'abcdefghijklmnopqrstuvwxyz' +
     7            '0123456789+/'
     8    @x = "hello"
     9            
    10    def self.encode
    11       "self.encode #@x"
    12    end 
    13  
    14    def self.decode
    15      "self.decode #@x"
    16    end 
    17  end
    18  if $0 == __FILE__
    19    puts Base64::DIGITS
    20    puts Base64.encode
    21    puts Base64.decode
    22  end
</PRE>

<P>

<OL>
<LI>Note that we define our methods with a <code>self.prefix</code>, which makes them 
“class methods” of the module. 
</LI>
<LI>Outside the <code>Base64</code> module, this constant can be referred to
as <code>Base64::DIGITS</code>. 
</LI>
<LI>Inside the module, our encode and decode
methods can refer to it by its simple name <code>DIGITS</code>. 
</LI>
<LI>If the
two methods had some need to share nonconstant data, they could use
a class variable (with a <code>@@</code> prefix), just as they could if
they were defined in a class.
</LI>
</OL>

<P>
<PRE>
[~/local/src/ruby/rubytesting/TheRubyProgrammingLanguage/Chapter7ClassesAndModules/modules]$ cat client.rb 
require 'base64_mod_self'

class A
  def self.tutu
    Base64::encode
  end
end

if $0 == __FILE__
  puts A.tutu
  puts Base64::DIGITS
end
</PRE>

<P>
<PRE>
[~/local/src/ruby/rubytesting/TheRubyProgrammingLanguage/Chapter7ClassesAndModules/modules]$ ruby -I. client.rb 
Base64
self.encode hello
ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/
</PRE>

<P>

<H3><A NAME="SECTION02771300000000000000">
Espacios de Nombres Anidados</A>
</H3>

<UL>
<LI>Los módulos y las clases pueden anidarse creando espacios de nombres anidados.

<P>
</LI>
<LI>Una clase o módulo anidado dentro de otro no tiene acceso especial al módulo o clase en la que se anida.
</LI>
</UL>

<P>
<PRE>
module Base64
  DIGITS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'

  class Encoder
    def encode
    end
  end

  class Decoder
    def decode
    end
  end

  # A utility function for use by both classes
  def Base64.helper
  end
end
</PRE>

<OL>
<LI>Tenemos dos clases: <code>Base64::encoder</code> y <code>Base64::Decoder</code>.
Dentro del módulo las clases pueden referirse la una a la otra y a la constante <code>DIGITS</code> por
sus nombres simples, sin cualificar.

<P>
</LI>
<LI>Sin embargo, para llamar a <code>Base64.helper</code> deben referirse a él por
su nombre completo: <code>Base64.helper</code>.

<P>
</LI>
<LI>Las clases pueden también anidarse.
Anidar una clase dentro de otra no le da a la clase ningún privilegio especial de acceso a los 
métodos y variables en la clase mas externa.
Su único efecto es en el espacio de nombres de la clase interna.

<P>
</LI>
<LI>Cuando escribimos una gema es conveniente anidar las clases y módulos - especialmente aquellas clases
que no forman parte de la API pública -
para no contaminar los espacios de nombres públicos.
</LI>
</OL>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html6926"
  HREF="node218.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html6920"
  HREF="node216.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html6914"
  HREF="node216.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html6922"
  HREF="node849.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html6924"
  HREF="node852.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html29"
  HREF="http://tinyurl.com/lpp1415"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="LPP moodle"></A><A NAME="tex2html30"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5678"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="SYTW moodle"></A><A NAME="tex2html31"
  HREF="perlexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="pdf"></A><A NAME="tex2html32"
  HREF="https://dl.dropbox.com/u/14539152/LPP/LPPbook/index.html"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html33"
  HREF="http://www.ruby-doc.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html34"
  HREF="http://www.github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html35"
  HREF="http://rubylearning.com/blog/"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="blogs"></A><A NAME="tex2html36"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html37"
  HREF="http://www.ull.es/view/centros/etsii/Inicio/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html38"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html39"
  HREF="https://plus.google.com/u/0/communities/115470806071217401678"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-lpp-1314"></A><A NAME="tex2html40"
  HREF="https://plus.google.com/u/0/communities/109091480492072495700"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-stw-1314"></A>
<BR>
<B> Siguiente:</B> <A NAME="tex2html6927"
  HREF="node218.html">Los Módulos como Mixins</A>
<B> Subir:</B> <A NAME="tex2html6921"
  HREF="node216.html">Módulos</A>
<B> Anterior:</B> <A NAME="tex2html6915"
  HREF="node216.html">Módulos</A>
 &nbsp; <B>  <A NAME="tex2html6923"
  HREF="node849.html">&#205;ndice General</A></B> 
 &nbsp; <B>  <A NAME="tex2html6925"
  HREF="node852.html">&#205;ndice de Materias</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Casiano Rodriguez León
2014-12-03
</ADDRESS>
</BODY>
</HTML>
