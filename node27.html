<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Ejercicio: Excepciones y Expresiones Regulares. Pasar de Hexadecimal a Decimal</TITLE>
<META NAME="description" CONTENT="Ejercicio: Excepciones y Expresiones Regulares. Pasar de Hexadecimal a Decimal">
<META NAME="keywords" CONTENT="perlexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="next" HREF="node28.html">
<LINK REL="previous" HREF="node26.html">
<LINK REL="up" HREF="node18.html">
<LINK REL="next" HREF="node28.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html3377"
  HREF="node28.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html3371"
  HREF="node18.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html3365"
  HREF="node26.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html3373"
  HREF="node777.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html3375"
  HREF="node780.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html29"
  HREF="http://tinyurl.com/lpp1415"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="LPP moodle"></A><A NAME="tex2html30"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5678"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="SYTW moodle"></A><A NAME="tex2html31"
  HREF="perlexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="pdf"></A><A NAME="tex2html32"
  HREF="https://dl.dropbox.com/u/14539152/LPP/LPPbook/index.html"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html33"
  HREF="http://www.ruby-doc.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html34"
  HREF="http://www.github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html35"
  HREF="http://rubylearning.com/blog/"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="blogs"></A><A NAME="tex2html36"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html37"
  HREF="http://www.ull.es/view/centros/etsii/Inicio/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html38"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html39"
  HREF="https://plus.google.com/u/0/communities/115470806071217401678"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-lpp-1314"></A><A NAME="tex2html40"
  HREF="https://plus.google.com/u/0/communities/109091480492072495700"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-stw-1314"></A>
<BR>
<B> Siguiente:</B> <A NAME="tex2html3378"
  HREF="node28.html">irb</A>
<B> Subir:</B> <A NAME="tex2html3372"
  HREF="node18.html">Introduccion</A>
<B> Anterior:</B> <A NAME="tex2html3366"
  HREF="node26.html">Ejercicios: Expresiones Regulares. Un</A>
 &nbsp; <B>  <A NAME="tex2html3374"
  HREF="node777.html">&#205;ndice General</A></B> 
 &nbsp; <B>  <A NAME="tex2html3376"
  HREF="node780.html">&#205;ndice de Materias</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION02170000000000000000"></A>
<A NAME="section:h2d"></A>
<BR>
Ejercicio: Excepciones y Expresiones Regulares. Pasar de Hexadecimal a Decimal
</H1>
<P>
<DIV><B>Ejercicio  <SPAN CLASS="arabic">7</SPAN>.<SPAN CLASS="arabic">7</SPAN>.<SPAN CLASS="arabic">1</SPAN></B> &nbsp; 
<I>Escriba un programa que reciba como argumentos 
una lista de cadenas describiendo números hexadecimales 
y devuelva los numeros en notación decimal.
</I><PRE>
~/rubytesting$ ./h2d.rb 0x1F 0x2A
31
42
</PRE><I>
En caso de que alguno de los argumentos no contenga un
número hexadecimal deberá producir una excepción:
</I><PRE>
~/rubytesting$ ./h2d.rb 0x1F 0x2Z3 0x2A
31
./h2d.rb:4:in `h2d': Not an hex number: 0x2Z3 (SyntaxError)
  from ./h2d.rb:8
  from ./h2d.rb:8:in `each'
  from ./h2d.rb:8
</PRE>
<P></DIV><P></P>

<H4><A NAME="SECTION02170010000000000000">
Notas de ayuda</A>
</H4>
  

<UL>
<LI>La función <code>hex</code> puede ayudarle:
<PRE>
&gt;&gt; "0x1f".hex
=&gt; 31
</PRE>
Si tiene la documentación instalada (si no es el caso, puede encontrar la documentación de Ruby en
<A NAME="tex2html86"
  HREF="http://ruby-doc.org/">http://ruby-doc.org/</A>
), puede escribir:
<PRE>
$ ri -T String#hex
------------------------------------------------------------- String#hex
     str.hex   =&gt; integer
------------------------------------------------------------------------
     Treats leading characters from _str_ as a string of hexadecimal
     digits (with an optional sign and an optional +0x+) and returns the
     corresponding number. Zero is returned on error.

        "0x0a".hex     #=&gt; 10
        "-1234".hex    #=&gt; -4660
        "0".hex        #=&gt; 0
        "wombat".hex   #=&gt; 0
</PRE>
o bien en <code>pry</code>:
<PRE>
[18] pry(main)&gt; show-doc "x".hex

From: string.c (C Method):
Owner: String
Visibility: public
Signature: hex()
Number of lines: 8

Treats leading characters from str as a string of hexadecimal digits
(with an optional sign and an optional 0x) and returns the
corresponding number. Zero is returned on error.

   "0x0a".hex     #=&gt; 10
   "-1234".hex    #=&gt; -4660
   "0".hex        #=&gt; 0
   "wombat".hex   #=&gt; 0
</PRE>

<P>
<PRE>
[11] pry(main)&gt; show-method "x".hex

From: string.c (C Method):
Owner: String
Visibility: public
Number of lines: 10

static VALUE
rb_str_hex(VALUE str)
{
    rb_encoding *enc = rb_enc_get(str);

    if (!rb_enc_asciicompat(enc)) {
  rb_raise(rb_eEncCompatError, "ASCII incompatible encoding: %s", rb_enc_name(enc));
    }
    return rb_str_to_inum(str, 16, FALSE);
}
</PRE>

<P>
</LI>
<LI>Lea  la sección exceptions en 
<A NAME="tex2html87"
  HREF="http://rubylearning.com/satishtalim/ruby_exceptions.html">rubylearning.com: Helping Ruby Programmers become Awesome!</A>
para saber mas sobre como producir/controlar una excepción.
<PRE>
  raise SyntaxError, "Not an hex number: #{h}" if h !~ /^\s*0x[\dA-F]+\s*$/i
</PRE>
La condición <code>h !~ /^\s*0x[\dA-F]+\s*$/i</code> se lee 

<P>
<I><code>h</code> no casa con la expresión regular <code>/^\s*0x[\dA-F]+\s*$/i</code>. 
</I>

<P>
Esta expresión regular casa con las cadenas que comienzan por blancos, 
seguidos de <code>0x</code> y dígitos y letras entre <code>A</code> y <code>F</code>.
<PRE>
[12] pry(main)&gt; h = "0x1f"
=&gt; "0x1f"
[13] pry(main)&gt; h =~ /^\s*0x[\dA-F]+\s*$/i
=&gt; 0
[14] pry(main)&gt; h = "0x0x"; h =~ /^\s*0x[\dA-F]+\s*$/i
=&gt; nil
[15] pry(main)&gt; h = "0x0x4d"; h =~ /\s*0x[\dA-F]+\s*$/i
=&gt; 2
[16] pry(main)&gt; h = "0x0x4d"; h =~ /\s*0x[A-F]+\s*$/i
=&gt; nil
[17] pry(main)&gt; h = "0x0xd"; h =~ /\s*0x[A-F]+\s*$/i
=&gt; 2
</PRE>

<P>
</LI>
<LI>Para recorrer el array de argumentos en línea de comando podemos usar el método
<code>each</code>:
<PRE>
      ARGV.each { |h| puts(h2d(h)) }
</PRE>
</LI>
</UL>
<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsecciones</STRONG></A>

<UL CLASS="ChildLinks">
<LI><UL>
<LI><UL>
<LI><A NAME="tex2html3379"
  HREF="node27.html#SECTION02170010000000000000">Notas de ayuda</A>
</UL></UL></UL>
<!--End of Table of Child-Links-->

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html3377"
  HREF="node28.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html3371"
  HREF="node18.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html3365"
  HREF="node26.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html3373"
  HREF="node777.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html3375"
  HREF="node780.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html29"
  HREF="http://tinyurl.com/lpp1415"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="LPP moodle"></A><A NAME="tex2html30"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5678"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="SYTW moodle"></A><A NAME="tex2html31"
  HREF="perlexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="pdf"></A><A NAME="tex2html32"
  HREF="https://dl.dropbox.com/u/14539152/LPP/LPPbook/index.html"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html33"
  HREF="http://www.ruby-doc.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html34"
  HREF="http://www.github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html35"
  HREF="http://rubylearning.com/blog/"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="blogs"></A><A NAME="tex2html36"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html37"
  HREF="http://www.ull.es/view/centros/etsii/Inicio/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html38"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html39"
  HREF="https://plus.google.com/u/0/communities/115470806071217401678"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-lpp-1314"></A><A NAME="tex2html40"
  HREF="https://plus.google.com/u/0/communities/109091480492072495700"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-stw-1314"></A>
<BR>
<B> Siguiente:</B> <A NAME="tex2html3378"
  HREF="node28.html">irb</A>
<B> Subir:</B> <A NAME="tex2html3372"
  HREF="node18.html">Introduccion</A>
<B> Anterior:</B> <A NAME="tex2html3366"
  HREF="node26.html">Ejercicios: Expresiones Regulares. Un</A>
 &nbsp; <B>  <A NAME="tex2html3374"
  HREF="node777.html">&#205;ndice General</A></B> 
 &nbsp; <B>  <A NAME="tex2html3376"
  HREF="node780.html">&#205;ndice de Materias</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Casiano Rodriguez León
2014-09-24
</ADDRESS>
</BODY>
</HTML>
