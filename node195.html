
<H2><A NAME="SECTION02743000000000000000"><tex2html_anchor_invisible_mark></A>
<A NAME="subsection:dupclone"><tex2html_anchor_mark></A><BR>
dup, clone e initialize_copy
</H2>

<P>
Otra forma de construir objetos es via los métodos
<tex2html_verb_mark>772<tex2html_verb_mark> y <tex2html_verb_mark>773<tex2html_verb_mark>. 
Estos métodos crean un objeto que es una copia del del objeto que recibe el mensaje:
<PRE><tex2html_verbatim_mark>verbatim865#</PRE>

<P>
<tex2html_verb_mark>774<tex2html_verb_mark> hace una copia mas parecida que <tex2html_verb_mark>775<tex2html_verb_mark>. Por ejemplo,
conserva el estatus de <tex2html_verb_mark>776<tex2html_verb_mark> del original, cosa que no hace <tex2html_verb_mark>777<tex2html_verb_mark>:

<P>
<PRE><tex2html_verbatim_mark>verbatim866#</PRE>

<P>
<tex2html_verb_mark>778<tex2html_verb_mark> incluso preserva los <#7128#><I>singleton methods</I><#7128#>, esto es, preserva los métodos individuales
del objeto. Sin embargo, <tex2html_verb_mark>779<tex2html_verb_mark> no lo hace.

<P>

<H4><A NAME="SECTION02743010000000000000">
Métodos Singleton</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>

<A NAME="parrafo:metodosingleton"><tex2html_anchor_mark></A>
<P>
Un <A NAME="7685"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textbf">singleton method</SPAN> es un método <tex2html_verb_mark>780<tex2html_verb_mark> que se añade a un objeto <tex2html_verb_mark>781<tex2html_verb_mark>
específico. A partir del momento en el que se añade, ese objeto <tex2html_verb_mark>782<tex2html_verb_mark>
responde el mensaje <tex2html_verb_mark>783<tex2html_verb_mark>, cosa que no hacen los otros métodos de su clase.
Sigue un ejemplo:
<PRE><tex2html_verbatim_mark>verbatim867#</PRE>
En la línea 2 añadimos el método <tex2html_verb_mark>784<tex2html_verb_mark> únicamente al objeto <tex2html_verb_mark>785<tex2html_verb_mark>. El objeto clonado
<tex2html_verb_mark>786<tex2html_verb_mark> también puede hacer <tex2html_verb_mark>787<tex2html_verb_mark>. No así la copia <tex2html_verb_mark>788<tex2html_verb_mark> obtenida por duplicación:
<PRE><tex2html_verbatim_mark>verbatim868#</PRE>

<P>

<H4><A NAME="SECTION02743020000000000000">
Copia Superficial</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>

Cuando <tex2html_verb_mark>789<tex2html_verb_mark> y <tex2html_verb_mark>790<tex2html_verb_mark> copian las variables de instancia / atributos del objeto original al objeto final
<SPAN  CLASS="textbf">sólo copian las referencias a los valores de esas variables no copian los valores reales: sólo hacen una copia superficial</SPAN>.
El siguiente ejemplo ilustra este punto:

<P>
<PRE><tex2html_verbatim_mark>verbatim869#</PRE>
La ejecución nos muestra que la copia es superficial:
<PRE><tex2html_verbatim_mark>verbatim870#</PRE>
Lo que se necesita es una copia profunda.

<P>

<H4><A NAME="SECTION02743030000000000000">
<TT>initialize_copy</TT></A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>

Si una clase define un método <tex2html_verb_mark>791<tex2html_verb_mark>,
los métodos <tex2html_verb_mark>792<tex2html_verb_mark> y <tex2html_verb_mark>793<tex2html_verb_mark> lo invocarán en el <#7143#><I>objeto copia</I><#7143#>.
Al método <tex2html_verb_mark>794<tex2html_verb_mark> se le pasa el objeto original como argumento.
El valor retornado por <tex2html_verb_mark>795<tex2html_verb_mark> es ignorado:

<P>
<PRE><tex2html_verbatim_mark>verbatim871#</PRE>
La ejecución produce la siguiente salida:
<PRE><tex2html_verbatim_mark>verbatim872#</PRE>

<P>
