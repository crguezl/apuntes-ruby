<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Gem Security</TITLE>
<META NAME="description" CONTENT="Gem Security">
<META NAME="keywords" CONTENT="perlexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="next" HREF="node661.html">
<LINK REL="previous" HREF="node659.html">
<LINK REL="up" HREF="node650.html">
<LINK REL="next" HREF="node661.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html14203"
  HREF="node661.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html14197"
  HREF="node650.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html14191"
  HREF="node659.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html14199"
  HREF="node775.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html14201"
  HREF="node778.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html29"
  HREF="http://nereida.deioc.ull.es/~lpp/index.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLPP.png"
 ALT="LPP"></A><A NAME="tex2html30"
  HREF="http://tinyurl.com/lpp1415"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="LPP moodle"></A><A NAME="tex2html31"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5678"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="SYTW moodle"></A><A NAME="tex2html32"
  HREF="perlexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="pdf"></A><A NAME="tex2html33"
  HREF="https://dl.dropbox.com/u/14539152/LPP/LPPbook/index.html"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html34"
  HREF="http://www.ruby-doc.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html35"
  HREF="http://www.github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html36"
  HREF="http://rubylearning.com/blog/"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="blogs"></A><A NAME="tex2html37"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html38"
  HREF="http://www.ull.es/view/centros/etsii/Inicio/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html39"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html40"
  HREF="https://plus.google.com/u/0/communities/115470806071217401678"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-lpp-1314"></A><A NAME="tex2html41"
  HREF="https://plus.google.com/u/0/communities/109091480492072495700"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-stw-1314"></A>
<BR>
<B> Siguiente:</B> <A NAME="tex2html14204"
  HREF="node661.html">Retirando una Gema</A>
<B> Subir:</B> <A NAME="tex2html14198"
  HREF="node650.html">Creando Gemas</A>
<B> Anterior:</B> <A NAME="tex2html14192"
  HREF="node659.html">Push Permissions on RubyGems.org</A>
 &nbsp; <B>  <A NAME="tex2html14200"
  HREF="node775.html">&#205;ndice General</A></B> 
 &nbsp; <B>  <A NAME="tex2html14202"
  HREF="node778.html">&#205;ndice de Materias</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION0614100000000000000000">
Gem Security</A>
</H1>

<P>
Installing a gem allows that gem’s code to run in the context of
your application. Clearly this has security implications: installing
a malicious gem on a server could ultimately result in that server
being completely penetrated by the gem’s author. Because of this,
the security of gem code is a topic of active discussion within the
Ruby community.

<P>
<A NAME="tex2html1499"
  HREF="https://rubygems.org/"><TT>RubyGems.org</TT></A> has had the ability to cryptographically sign gems since
version 0.8.11. This signing works by using the <code>gem cert</code> command
to create a key pair, and then packaging signing data inside the
gem itself. 

<P>
<PRE>
[~/srcLPPruby/matrices_dispersas(master)]$ gem help cert
Usage: gem cert [options]

  Options:
    -a, --add CERT                   Add a trusted certificate.
    -l, --list [FILTER]              List trusted certificates where the
                                     subject contains FILTER
    -r, --remove FILTER              Remove trusted certificates where the
                                     subject contains FILTER
    -b, --build EMAIL_ADDR           Build private key and self-signed
                                     certificate for EMAIL_ADDR
    -C, --certificate CERT           Signing certificate for --sign
    -K, --private-key KEY            Key for --sign or --build
    -s, --sign CERT                  Signs CERT with the key from -K
                                     and the certificate from -C


  Common Options:
    -h, --help                       Get help on this command
    -V, --[no-]verbose               Set the verbose level of output
    -q, --quiet                      Silence commands
        --config-file FILE           Use this config file instead of default
        --backtrace                  Show stack backtrace on errors
        --debug                      Turn on Ruby debugging


  Summary:
    Manage RubyGems certificates and signing settings

  Description:
    The cert command manages signing keys and certificates for creating signed
    gems.  Your signing certificate and private key are typically stored in
    ~/.gem/gem-public_cert.pem and ~/.gem/gem-private_key.pem respectively.
    
    To build a certificate for signing gems:
    
      gem cert --build you@example
    
    If you already have an RSA key, or are creating a new certificate for an
    existing key:
    
      gem cert --build you@example --private-key /path/to/key.pem
    
    If you wish to trust a certificate you can add it to the trust list with:
    
      gem cert --add /path/to/cert.pem
    
    You can list trusted certificates with:
    
      gem cert --list
    
    or:
    
      gem cert --list cert_subject_substring
    
    If you wish to remove a previously trusted certificate:
    
      gem cert --remove cert_subject_substring
    
    To sign another gem author's certificate:
    
      gem cert --sign /path/to/other_cert.pem
    
    For further reading on signing gems see `ri Gem::Security`
</PRE>

<P>
The user 
needs to add the author or source site public key as a trusted certificate (you only need
to do this once per author/site):
<PRE>
gem cert --add &lt;(curl -Ls https://gist.github.com/sferik/4701180/raw/public_cert.pem)
</PRE>
The <code>gem install</code> command optionally lets you set a
<A NAME="26010"></A><SPAN  CLASS="textbf">security policy</SPAN> 
(via the option <code>-P</code> or <code>--trust-policy POLICY</code> which
specifies gem trust policy) and you can verify the signing key for a gem before
you install it:
<PRE>
gem install twitter -P HighSecurity
</PRE>

<P>
Available policies are:

<OL>
<LI>NoSecurity - Well, no security at all. Signed packages are treated like unsigned packages.

<P>
</LI>
<LI>LowSecurity - Pretty much no security. If a package is signed then <A NAME="tex2html1500"
  HREF="https://rubygems.org/"><TT>RubyGems.org</TT></A> will make sure the signature matches the signing certificate, and that the signing certificate hasn't expired, but that's it. A malicious user could easily circumvent this kind of security.

<P>
</LI>
<LI>MediumSecurity - Better than LowSecurity and NoSecurity, but still
fallible. Package contents are verified against the signing
certificate, and the signing certificate is checked for validity,
and checked against the rest of the certificate chain.
The biggest improvement over LowSecurity is that MediumSecurity
won't install packages that are signed by untrusted sources.
Unfortunately, MediumSecurity still isn't totally secure – a malicious
user can still unpack the gem, strip the signatures, and distribute
the gem unsigned.
</LI>
<LI>HighSecurity - The HighSecurity policy is identical to the
MediumSecurity policy, except that it does not allow unsigned gems.
A malicious user can't
modify the package contents without invalidating the signature, and
he can't modify or remove signature or the signing certificate
chain
</LI>
</OL>

<P>
However, this method of securing gems is not widely used. It requires
a number of manual steps on the part of the developer, and there
is no well-established chain of trust for gem signing keys. 

<P>
Véase

<OL>
<LI><A NAME="tex2html1501"
  HREF="http://sixarm.com/about/ruby-gems-using-high-security-trust-policy.html">Ruby Gems: Using High Security Trust Policy</A>
</LI>
<LI><A NAME="tex2html1502"
  HREF="http://blog.meldium.com/home/2013/3/3/signed-rubygems-part">A Practical Guide to Using Signed Ruby Gems - Part 1: Bundler</A>
</LI>
<LI><A NAME="tex2html1503"
  HREF="http://blog.meldium.com/home/2013/3/6/signed-gems-on-heroku">A Practical Guide to Using Signed Ruby Gems - Part 2: Heroku</A>
</LI>
</OL>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html14203"
  HREF="node661.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html14197"
  HREF="node650.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html14191"
  HREF="node659.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html14199"
  HREF="node775.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html14201"
  HREF="node778.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html29"
  HREF="http://nereida.deioc.ull.es/~lpp/index.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLPP.png"
 ALT="LPP"></A><A NAME="tex2html30"
  HREF="http://tinyurl.com/lpp1415"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="LPP moodle"></A><A NAME="tex2html31"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5678"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="SYTW moodle"></A><A NAME="tex2html32"
  HREF="perlexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="pdf"></A><A NAME="tex2html33"
  HREF="https://dl.dropbox.com/u/14539152/LPP/LPPbook/index.html"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html34"
  HREF="http://www.ruby-doc.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html35"
  HREF="http://www.github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html36"
  HREF="http://rubylearning.com/blog/"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="blogs"></A><A NAME="tex2html37"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html38"
  HREF="http://www.ull.es/view/centros/etsii/Inicio/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html39"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html40"
  HREF="https://plus.google.com/u/0/communities/115470806071217401678"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-lpp-1314"></A><A NAME="tex2html41"
  HREF="https://plus.google.com/u/0/communities/109091480492072495700"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-stw-1314"></A>
<BR>
<B> Siguiente:</B> <A NAME="tex2html14204"
  HREF="node661.html">Retirando una Gema</A>
<B> Subir:</B> <A NAME="tex2html14198"
  HREF="node650.html">Creando Gemas</A>
<B> Anterior:</B> <A NAME="tex2html14192"
  HREF="node659.html">Push Permissions on RubyGems.org</A>
 &nbsp; <B>  <A NAME="tex2html14200"
  HREF="node775.html">&#205;ndice General</A></B> 
 &nbsp; <B>  <A NAME="tex2html14202"
  HREF="node778.html">&#205;ndice de Materias</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Casiano Rodriguez León
2014-09-17
</ADDRESS>
</BODY>
</HTML>
