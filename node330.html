<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Travis en la Línea de Comandos</TITLE>
<META NAME="description" CONTENT="Travis en la Línea de Comandos">
<META NAME="keywords" CONTENT="perlexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="next" HREF="node331.html">
<LINK REL="previous" HREF="node329.html">
<LINK REL="up" HREF="node324.html">
<LINK REL="next" HREF="node331.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html8841"
  HREF="node331.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html8835"
  HREF="node324.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html8829"
  HREF="node329.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html8837"
  HREF="node849.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html8839"
  HREF="node852.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html29"
  HREF="http://tinyurl.com/lpp1415"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="LPP moodle"></A><A NAME="tex2html30"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5678"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="SYTW moodle"></A><A NAME="tex2html31"
  HREF="perlexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="pdf"></A><A NAME="tex2html32"
  HREF="https://dl.dropbox.com/u/14539152/LPP/LPPbook/index.html"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html33"
  HREF="http://www.ruby-doc.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html34"
  HREF="http://www.github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html35"
  HREF="http://rubylearning.com/blog/"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="blogs"></A><A NAME="tex2html36"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html37"
  HREF="http://www.ull.es/view/centros/etsii/Inicio/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html38"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html39"
  HREF="https://plus.google.com/u/0/communities/115470806071217401678"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-lpp-1314"></A><A NAME="tex2html40"
  HREF="https://plus.google.com/u/0/communities/109091480492072495700"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-stw-1314"></A>
<BR>
<B> Siguiente:</B> <A NAME="tex2html8842"
  HREF="node331.html">Coveralls: Análisis de Cubrimiento</A>
<B> Subir:</B> <A NAME="tex2html8836"
  HREF="node324.html">Integración Contínua: Travis</A>
<B> Anterior:</B> <A NAME="tex2html8830"
  HREF="node329.html">Databases and other services</A>
 &nbsp; <B>  <A NAME="tex2html8838"
  HREF="node849.html">&#205;ndice General</A></B> 
 &nbsp; <B>  <A NAME="tex2html8840"
  HREF="node852.html">&#205;ndice de Materias</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION021360000000000000000"></A>
<A NAME="section:thetravisgem"></A>
<BR>
Travis en la Línea de Comandos
</H1>
The <A NAME="tex2html706"
  HREF="https://rubygems.org/gems/travis">travis gem</A>
includes both a
<A NAME="tex2html707"
  HREF="https://github.com/travis-ci/travis/#command-line-client">command line client</A>
and a 
<A NAME="tex2html708"
  HREF="https://github.com/travis-ci/travis/#ruby-library">Ruby library</A>
to interface with a Travis CI service. Both
work with <A NAME="tex2html709"
  HREF="https://travis-ci.org">travis-ci.org</A>,
<A NAME="tex2html710"
  HREF="https://travis-ci.com">travis-ci.com</A>
or any custom Travis CI setup
you might have. Check out the <A NAME="tex2html711"
  HREF="https://github.com/travis-ci/travis/#installation">installation instructions</A>
to get it running in no time.

<P>

<H4><A NAME="SECTION021360010000000000000">
The Travis Client</A>
</H4>
  

<P>
Véase <A NAME="tex2html712"
  HREF="https://github.com/travis-ci/travis#command-line-client">The Travis Client</A>.

<P>

<H4><A NAME="SECTION021360020000000000000">
login</A>
</H4>
  

The <code>login</code> command 
will ask you for your GitHub user name and password.

<P>
We can also create a GitHub token on our own and supply it via
<code>--github-token</code>:

<P>
<PRE>
$ travis login  --github-token xxxxxxxxxxxxxxxxxxxxxxxxxxxx  --pro
Successfully logged in as crguezl!
[~/sinatra/sinatra-number_cruncher(master)]$ travis whoami
You are crguezl (Casiano Rodriguez-Leon)
</PRE>
 Para obtener el token que usamos como argumento
de <code>--github-token</code> nos vamos a 
<PRE>
GitHub -&gt; settings -&gt; Applications -&gt; Generate new token
</PRE>

<P>
Véase el tutorial
<A NAME="tex2html713"
  HREF="https://help.github.com/articles/creating-an-access-token-for-command-line-use">Creating an access token for command-line use</A>.

<P>

<H4><A NAME="SECTION021360030000000000000">
init</A>
</H4>
  

<P>
When setting up a new project, we can run <code>travis init</code> 
to generate a <code>.travis.yml</code> and 
<FONT COLOR="#0000ff"> enable the project</FONT>:
<PRE>
[~/sinatra/sinatra-number_cruncher(master)]$ travis init ruby --rvm 2.1.2 -r crguezl/number_cruncher
.travis.yml file created!
crguezl/number_cruncher: enabled :)
</PRE>

<P>
A file called <code>.travis.yml</code> was created that contains information
about our app. 

<P>
<PRE>
[~/sinatra/sinatra-number_cruncher(master)]$ cat .travis.yml
language: ruby
rvm: 2.1.2
</PRE>

<P>

<H4><A NAME="SECTION021360040000000000000">
Ejecutando las pruebas en Travis</A>
</H4>
  

A build on Travis is initialized when we push to our
Github account, so do that now:

<P>
<PRE>
[~/sinatra/sinatra-number_cruncher(master)]$ git add .travis.yml Rakefile
[~/sinatra/sinatra-number_cruncher(master)]$ git commit -am '.travis.ym added'
[master b25b8e8] .travis.ym added
 2 files changed, 7 insertions(+), 1 deletion(-)
[~/sinatra/sinatra-number_cruncher(master)]$ git push origin master
Counting objects: 7, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (4/4), 466 bytes | 0 bytes/s, done.
Total 4 (delta 2), reused 0 (delta 0)
To git@github.com:crguezl/number_cruncher.git
   5e51ec1..b25b8e8  master -&gt; master
</PRE>

<P>

<H4><A NAME="SECTION021360050000000000000">
show</A>
</H4>
  

To check the status of the build, run the following command in a terminal:

<P>
<PRE>
[~/sinatra/sinatra-number_cruncher(master)]$ travis show -r crguezl/number_cruncher
no build yet for crguezl/number_cruncher
</PRE>
Travis can take a while to run a build, so you might get a message like the one above. Let us try again:

<P>
<PRE>
[~/sinatra/sinatra-number_cruncher(master)]$ travis show -r crguezl/number_cruncher
Job #1.1:  .travis.ym added
State:         passed
Type:          push
Branch:        master
Compare URL:   https://github.com/crguezl/number_cruncher/compare/5e51ec1d8a3a...b25b8e8d7086
Duration:      18 sec
Started:       2014-09-24 17:09:38
Finished:      2014-09-24 17:09:56
Allow Failure: false
Config:        rvm: 2.1.2
[~/sinatra/sinatra-number_cruncher(master)]$
</PRE>
This time we got confirmation that the build has passed successfully.

<P>

<H4><A NAME="SECTION021360060000000000000">
logs</A>
</H4>
  

Given a job number, <code>logs</code> simply prints out that job's logs. 
By default it will display the first job of the latest build.
<PRE>
[~/sinatra/sinatra-number_cruncher(master)]$ travis logs -r crguezl/number_cruncher
displaying logs for crguezl/number_cruncher#1.1
Using worker: worker-linux-6-2.bb.travis-ci.org:travis-linux-2

$ git clone --depth=50 --branch=master git://github.com/crguezl/number_cruncher.git crguezl/number_cruncher
Cloning into 'crguezl/number_cruncher'...
remote: Counting objects: 36, done.
remote: Compressing objects: 100% (25/25), done.
remote: Total 36 (delta 11), reused 28 (delta 7)
Receiving objects: 100% (36/36), 4.63 KiB | 0 bytes/s, done.
Resolving deltas: 100% (11/11), done.
Checking connectivity... done.
$ cd crguezl/number_cruncher
$ git checkout -qf b25b8e8d70861b82c1399f87ebab036a180bc653
couchdb stop/waiting
$ rvm use 2.1.2 --install --binary --fuzzy
.....
</PRE>

<P>

<H4><A NAME="SECTION021360070000000000000">
open</A>
</H4>
  

<PRE>
travis open -r crguezl/number_cruncher
</PRE>

<P>
Opens the project view in the Travis CI web interface.

<P>

<H4><A NAME="SECTION021360080000000000000">
Status Images</A>
</H4>
  

<P>
With Travis CI, you can embed little status icons into your project's
<code>README.md</code> 
or general documentation. That way, visitors of your projects or
site can immediately see its build status.

<P>
<PRE>
&lt;a href="https://travis-ci.org/crguezl/sinatra-capybara-selenium"&gt;
&lt;img src="https://travis-ci.org/crguezl/sinatra-capybara-selenium.svg?branch=master alt="Build Status" /&gt;
&lt;img src="https://travis-ci.org/crguezl/sinatra-capybara-selenium.svg?branch=master 
alt="Build Status" /&gt;
&lt;/a&gt;
</PRE>

<a href="https://travis-ci.org/crguezl/sinatra-capybara-selenium">
<img src="https://travis-ci.org/crguezl/sinatra-capybara-selenium.svg?branch=master alt="Build Status" />
</a>

<P>
The URLs for status images are available on your repositories' page on
Travis CI.

<P>
You'll find the most current status image in the top right.

<P>
Clicking that will reveal a dialog that allows you to copy and paste the
URL and ready to use templates for common markup formats, like Markdown
or Textile.

<P>
Make sure to select the right branch in the dropdown. The default URL,
without the branch parameter, will return the status for the latest build,
on any branch. Selecting the desired branch makes sure
your image only displays the status for the branch whose stability is most relevant.

<P>

<H4><A NAME="SECTION021360090000000000000">
Travis console</A>
</H4>
  

<PRE>
[~/sinatra/sinatra-selenium/capybara-selenium(master)]$ travis console
&gt;&gt; .ls
Gemfile           README.md         my_sinatra_app.rb
Gemfile.lock      Rakefile          spec
&gt;&gt; .uname -a
Darwin air.local 13.4.0 Darwin Kernel Version 13.4.0: Sun Aug 17 19:50:11 PDT 2014; root:xnu-2422.115.4~1/RELEASE_X86_64 x86_64
&gt;&gt; User.current
=&gt; #&lt;User: crguezl&gt;
&gt;&gt; Repository.find('crguezl/sinatra-capybara-selenium')
=&gt; #&lt;Repository: crguezl/sinatra-capybara-selenium&gt;
&gt;&gt; _.last_build
=&gt; #&lt;Travis::Client::Build: crguezl/sinatra-capybara-selenium#13&gt;
</PRE>

<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsecciones</STRONG></A>

<UL CLASS="ChildLinks">
<LI><UL>
<LI><UL>
<LI><A NAME="tex2html8843"
  HREF="node330.html#SECTION021360010000000000000">The Travis Client</A>
<LI><A NAME="tex2html8844"
  HREF="node330.html#SECTION021360020000000000000">login</A>
<LI><A NAME="tex2html8845"
  HREF="node330.html#SECTION021360030000000000000">init</A>
<LI><A NAME="tex2html8846"
  HREF="node330.html#SECTION021360040000000000000">Ejecutando las pruebas en Travis</A>
<LI><A NAME="tex2html8847"
  HREF="node330.html#SECTION021360050000000000000">show</A>
<LI><A NAME="tex2html8848"
  HREF="node330.html#SECTION021360060000000000000">logs</A>
<LI><A NAME="tex2html8849"
  HREF="node330.html#SECTION021360070000000000000">open</A>
<LI><A NAME="tex2html8850"
  HREF="node330.html#SECTION021360080000000000000">Status Images</A>
<LI><A NAME="tex2html8851"
  HREF="node330.html#SECTION021360090000000000000">Travis console</A>
</UL></UL></UL>
<!--End of Table of Child-Links-->

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html8841"
  HREF="node331.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html8835"
  HREF="node324.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html8829"
  HREF="node329.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html8837"
  HREF="node849.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html8839"
  HREF="node852.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html29"
  HREF="http://tinyurl.com/lpp1415"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="LPP moodle"></A><A NAME="tex2html30"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5678"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="SYTW moodle"></A><A NAME="tex2html31"
  HREF="perlexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="pdf"></A><A NAME="tex2html32"
  HREF="https://dl.dropbox.com/u/14539152/LPP/LPPbook/index.html"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html33"
  HREF="http://www.ruby-doc.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html34"
  HREF="http://www.github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html35"
  HREF="http://rubylearning.com/blog/"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="blogs"></A><A NAME="tex2html36"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html37"
  HREF="http://www.ull.es/view/centros/etsii/Inicio/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html38"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html39"
  HREF="https://plus.google.com/u/0/communities/115470806071217401678"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-lpp-1314"></A><A NAME="tex2html40"
  HREF="https://plus.google.com/u/0/communities/109091480492072495700"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-stw-1314"></A>
<BR>
<B> Siguiente:</B> <A NAME="tex2html8842"
  HREF="node331.html">Coveralls: Análisis de Cubrimiento</A>
<B> Subir:</B> <A NAME="tex2html8836"
  HREF="node324.html">Integración Contínua: Travis</A>
<B> Anterior:</B> <A NAME="tex2html8830"
  HREF="node329.html">Databases and other services</A>
 &nbsp; <B>  <A NAME="tex2html8838"
  HREF="node849.html">&#205;ndice General</A></B> 
 &nbsp; <B>  <A NAME="tex2html8840"
  HREF="node852.html">&#205;ndice de Materias</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Casiano Rodriguez León
2014-12-03
</ADDRESS>
</BODY>
</HTML>
