
<H1><A NAME="SECTION027130000000000000000"><tex2html_anchor_invisible_mark></A>
<A NAME="section:la_busqueda_por_metodos"><tex2html_anchor_mark></A><BR>
La Búsqueda por Métodos
</H1>

<P>
Cuando Ruby evalúa una expresión de invocación de un método (este proceso
es conocido como <A NAME="7761"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textbf">method lookup</SPAN> o <A NAME="7763"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textbf">method resolution</SPAN>), por ejemplo
<tex2html_verb_mark>895<tex2html_verb_mark> ocurren los siguientes pasos:

<P>

<OL>
<LI><A NAME="item:busca_eigenclass"><tex2html_anchor_mark></A>Primero comprueba en la <A NAME="7765"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textbf">singleton class</SPAN> o <A NAME="7767"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textbf">eigenclass</SPAN> de <tex2html_verb_mark>896<tex2html_verb_mark> la existencia de un método <tex2html_verb_mark>897<tex2html_verb_mark>

<P>
</LI>
<LI><A NAME="item:busca_clase"><tex2html_anchor_mark></A>Si no, busca en la clase de <tex2html_verb_mark>898<tex2html_verb_mark> por un método <tex2html_verb_mark>899<tex2html_verb_mark>

<P>
</LI>
<LI><A NAME="item:busca_modulos"><tex2html_anchor_mark></A>Si no, busca en los módulos incluídos por la clase de <tex2html_verb_mark>900<tex2html_verb_mark>.
Si la clase incluye mas de un módulo se buscan en orden inverso al orden en el que fueron incluídos

<P>
</LI>
<LI>Si no, se mueve hacia arriba en la clase de herencia a la superclase.
Los pasos
<A HREF=<tex2html_cr_mark>#item:busca_clase#7415><tex2html_cr_mark></A>
y
<A HREF=<tex2html_cr_mark>#item:busca_modulos#7416><tex2html_cr_mark></A>
se repiten para cada clase en la jerarquía de herencia hasta que todos los 
antecesores y módulos incluídos han sido buscados.

<P>
</LI>
<LI>Si no, se invoca a un método con nombre <A NAME="7769"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textbf">method_missing</SPAN>.
Para encontrar dicho método se empieza en el paso
<A HREF=<tex2html_cr_mark>#item:busca_eigenclass#7418><tex2html_cr_mark></A>.

<P>
El módulo <A NAME="tex2html397"
  HREF="http://ruby-doc.org/core-2.0.0/Kernel.html"><TT>Kernel</TT></A><#7419#><#7419#> provee una implementación por defecto de
<tex2html_verb_mark>901<tex2html_verb_mark> por lo que queda garantizado 
el éxito de esta segunda pasada.
</LI>
</OL>

<P>
Let’s consider a concrete example of this algorithm. Suppose we have the following code:
<PRE><tex2html_verbatim_mark>verbatim918#</PRE>
We want to invoke a method named <tex2html_verb_mark>902<tex2html_verb_mark> on the String instance <tex2html_verb_mark>903<tex2html_verb_mark>. 
<PRE><tex2html_verbatim_mark>verbatim919#</PRE>
Name resolution proceeds as follows:

<OL>
<LI>Check the eigenclass for singleton methods. There aren’t any in this case.
</LI>
<LI>Check the <tex2html_verb_mark>904<tex2html_verb_mark> class. There is no instance method named <tex2html_verb_mark>905<tex2html_verb_mark>.
</LI>
<LI>Check the <tex2html_verb_mark>906<tex2html_verb_mark> module of the <tex2html_verb_mark>907<tex2html_verb_mark> class for an instance method named <tex2html_verb_mark>908<tex2html_verb_mark>. 
</LI>
<LI>Check the superclass of <tex2html_verb_mark>909<tex2html_verb_mark>, which is <tex2html_verb_mark>910<tex2html_verb_mark>. The <tex2html_verb_mark>911<tex2html_verb_mark> class does not define a method named <tex2html_verb_mark>912<tex2html_verb_mark>, either.
</LI>
<LI>Check the <A NAME="tex2html398"
  HREF="http://ruby-doc.org/core-2.0.0/Kernel.html"><TT>Kernel</TT></A><#7426#><#7426#> module included by
<tex2html_verb_mark>913<tex2html_verb_mark>.
The <tex2html_verb_mark>914<tex2html_verb_mark> method is not found here either, 
so we now switch to looking for a method named <tex2html_verb_mark>915<tex2html_verb_mark>.
</LI>
<LI>Look for <tex2html_verb_mark>916<tex2html_verb_mark> in each of the spots above:

<OL>
<LI>the eigenclass of the <tex2html_verb_mark>917<tex2html_verb_mark> object, 
</LI>
<LI>the <tex2html_verb_mark>918<tex2html_verb_mark>
class, 
</LI>
<LI>the <tex2html_verb_mark>919<tex2html_verb_mark> module, 
</LI>
<LI>the
<tex2html_verb_mark>920<tex2html_verb_mark> class, and the <A NAME="tex2html399"
  HREF="http://ruby-doc.org/core-2.0.0/Kernel.html"><TT>Kernel</TT></A><#7428#><#7428#> module
</LI>
</OL>
The first definition
of <tex2html_verb_mark>921<tex2html_verb_mark> we find is in the <A NAME="tex2html400"
  HREF="http://ruby-doc.org/core-2.0.0/Kernel.html"><TT>Kernel</TT></A><#7430#><#7430#> module, so this
is the method we invoke. What it does is raise an exception:
<PRE><tex2html_verbatim_mark>verbatim920#</PRE>
</LI>
</OL>
This may seem like it requires Ruby to perform an exhaustive search
every time it invokes a method. 

<P>
In typical implementations, however,
successful method lookups will be cached so that subsequent lookups
of the same name (with no intervening method definitions) will be
very quick.

<P>
