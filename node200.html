
<H2><A NAME="SECTION02771000000000000000">
Los Módulos como Espacios de Nombres</A>
</H2>
  Al definir un módulo se crea una constante con el mismo nombre del módulo.
  El valor de dicha constante es el objeto <tex2html_verb_mark>806<tex2html_verb_mark> que representa al módulo.

<P>

<H3><A NAME="SECTION02771100000000000000">
Ejemplo Simple</A>
</H3>

<P>
<BLOCKQUOTE>
Say you write a set of the trigonometry functions <tex2html_verb_mark>807<tex2html_verb_mark>, cos,
and so on. You stuff them all into a file, <tex2html_verb_mark>808<tex2html_verb_mark>, for
future generations to enjoy. Meanwhile, Sally is working on a
simulation of good and evil, and she codes a set of her own useful
routines, including <tex2html_verb_mark>809<tex2html_verb_mark> and <tex2html_verb_mark>810<tex2html_verb_mark>, and sticks them
into <tex2html_verb_mark>811<tex2html_verb_mark>. Joe, who wants to write a program to find out
how many angels can dance on the head of a pin, needs to load both
<tex2html_verb_mark>812<tex2html_verb_mark> and <tex2html_verb_mark>813<tex2html_verb_mark> into his program. But both define
a method called <tex2html_verb_mark>814<tex2html_verb_mark>. Bad news.
</BLOCKQUOTE>
<P>
<BLOCKQUOTE>The answer is the module mechanism. Modules define a namespace, a
sandbox in which your methods and constants can play without having
to worry about being stepped on by other methods and constants. The
trig functions can go into one module:
</BLOCKQUOTE>
<P>
<BLOCKQUOTE><DIV ALIGN="RIGHT"><#7199#>Dave Thomas<#7199#>
</BLOCKQUOTE>
<P>
<BLOCKQUOTE>
</BLOCKQUOTE>

<P>
<PRE><tex2html_verbatim_mark>verbatim881#</PRE>

<P>
<PRE><tex2html_verbatim_mark>verbatim882#</PRE>
If a third program wants to use these modules, it can simply load
the two files (using the Ruby require statement. In order to reference
the name sin unambiguously, our code can then qualify the name using
the name of the module containing the implementation we want,
followed by <tex2html_verb_mark>815<tex2html_verb_mark>, the scope resolution operator:

<P>
<PRE><tex2html_verbatim_mark>verbatim883#</PRE>

<P>

<H3><A NAME="SECTION02771200000000000000">
Ejemplo: Codificar y Decodificar Datos Usando Base64</A>
</H3>
Supongamos que estamos un método para codificar y decodificar datos
binarios utilizando la codificación <tex2html_verb_mark>816<tex2html_verb_mark>. Puesto que <tex2html_verb_mark>817<tex2html_verb_mark> y <tex2html_verb_mark>818<tex2html_verb_mark>
son dos nombres muy comunes, 
para preveer colisiones de nombres definimos nuestros dos métodos
dentro de un módulo:

<P>
<PRE><tex2html_verbatim_mark>verbatim884#</PRE>

<P>

<OL>
<LI>Note that we define our methods with a <tex2html_verb_mark>819<tex2html_verb_mark>, which makes them 
“class methods” of the module. 
</LI>
<LI>Outside the <tex2html_verb_mark>820<tex2html_verb_mark> module, this constant can be referred to
as <tex2html_verb_mark>821<tex2html_verb_mark>. 
</LI>
<LI>Inside the module, our encode and decode
methods can refer to it by its simple name <tex2html_verb_mark>822<tex2html_verb_mark>. 
</LI>
<LI>If the
two methods had some need to share nonconstant data, they could use
a class variable (with a <tex2html_verb_mark>823<tex2html_verb_mark> prefix), just as they could if
they were defined in a class.
</LI>
</OL>

<P>
<PRE><tex2html_verbatim_mark>verbatim885#</PRE>

<P>
<PRE><tex2html_verbatim_mark>verbatim886#</PRE>

<P>

<H3><A NAME="SECTION02771300000000000000">
Espacios de Nombres Anidados</A>
</H3>

<UL>
<LI>Los módulos y las clases pueden anidarse creando espacios de nombres anidados.

<P>
</LI>
<LI>Una clase o módulo anidado dentro de otro no tiene acceso especial al módulo o clase en la que se anida.
</LI>
</UL>

<P>
<PRE><tex2html_verbatim_mark>verbatim887#</PRE>

<OL>
<LI>Tenemos dos clases: <tex2html_verb_mark>824<tex2html_verb_mark> y <tex2html_verb_mark>825<tex2html_verb_mark>.
Dentro del módulo las clases pueden referirse la una a la otra y a la constante <tex2html_verb_mark>826<tex2html_verb_mark> por
sus nombres simples, sin cualificar.

<P>
</LI>
<LI>Sin embargo, para llamar a <tex2html_verb_mark>827<tex2html_verb_mark> deben referirse a él por
su nombre completo: <tex2html_verb_mark>828<tex2html_verb_mark>.

<P>
</LI>
<LI>Las clases pueden también anidarse.
Anidar una clase dentro de otra no le da a la clase ningún privilegio especial de acceso a los 
métodos y variables en la clase mas externa.
Su único efecto es en el espacio de nombres de la clase interna.

<P>
</LI>
<LI>Cuando escribimos una gema es conveniente anidar las clases y módulos - especialmente aquellas clases
que no forman parte de la API pública -
para no contaminar los espacios de nombres públicos.
</LI>
</OL>

<P>
