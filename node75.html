<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Clase y Tipo de un Objeto. Polimorfismo</TITLE>
<META NAME="description" CONTENT="Clase y Tipo de un Objeto. Polimorfismo">
<META NAME="keywords" CONTENT="perlexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="next" HREF="node76.html">
<LINK REL="previous" HREF="node74.html">
<LINK REL="up" HREF="node71.html">
<LINK REL="next" HREF="node76.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html4389"
  HREF="node76.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html4383"
  HREF="node71.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html4377"
  HREF="node74.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html4385"
  HREF="node816.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html4387"
  HREF="node819.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html29"
  HREF="http://tinyurl.com/lpp1415"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="LPP moodle"></A><A NAME="tex2html30"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5678"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="SYTW moodle"></A><A NAME="tex2html31"
  HREF="perlexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="pdf"></A><A NAME="tex2html32"
  HREF="https://dl.dropbox.com/u/14539152/LPP/LPPbook/index.html"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html33"
  HREF="http://www.ruby-doc.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html34"
  HREF="http://www.github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html35"
  HREF="http://rubylearning.com/blog/"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="blogs"></A><A NAME="tex2html36"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html37"
  HREF="http://www.ull.es/view/centros/etsii/Inicio/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html38"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html39"
  HREF="https://plus.google.com/u/0/communities/115470806071217401678"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-lpp-1314"></A><A NAME="tex2html40"
  HREF="https://plus.google.com/u/0/communities/109091480492072495700"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-stw-1314"></A>
<BR>
<B> Siguiente:</B> <A NAME="tex2html4390"
  HREF="node76.html">Igualdad de Objetos</A>
<B> Subir:</B> <A NAME="tex2html4384"
  HREF="node71.html">Objetos</A>
<B> Anterior:</B> <A NAME="tex2html4378"
  HREF="node74.html">Identidad de un Objeto</A>
 &nbsp; <B>  <A NAME="tex2html4386"
  HREF="node816.html">&#205;ndice General</A></B> 
 &nbsp; <B>  <A NAME="tex2html4388"
  HREF="node819.html">&#205;ndice de Materias</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsecciones</STRONG></A>

<UL CLASS="ChildLinks">
<LI><UL>
<LI><A NAME="tex2html4391"
  HREF="node75.html#SECTION02384010000000000000">Clase y Vida de un Objeto</A>
<LI><A NAME="tex2html4392"
  HREF="node75.html#SECTION02384020000000000000">Que es un Tipo</A>
<LI><A NAME="tex2html4393"
  HREF="node75.html#SECTION02384030000000000000">¿Puedo llamar a este método sobre este objeto?</A>
</UL></UL>
<!--End of Table of Child-Links-->
<HR>

<H2><A NAME="SECTION02384000000000000000"></A>
<A NAME="claseytipodeunobjeto"></A>
<BR>
Clase y Tipo de un Objeto. Polimorfismo
</H2>

<P>
To determine the class of an object in Ruby,
simply ask for it:

<P>
<PRE>
o = "test"  # This is a value
o.class     # Returns an object representing the String class
</PRE>

<P>
We can
ask any class what its superclass is:

<P>
<PRE>
o.class                       # String: o is a String object
o.class.superclass            # Object: superclass of String is Object
o.class.superclass.superclass # nil: Object has no superclass
</PRE>

<P>
In Ruby 1.9 and later, Object is no longer the root of the class hierarchy:

<P>
<PRE>
Object.superclass             # BasicObject: Object has a superclass in 1.9
BasicObject.superclass        # nil: BasicObject has no superclass
</PRE>

<P>
So a particularly straightforward way to check the class of an
object is by direct comparison:

<P>
<PRE>
o.class == String       # true if is o a String
</PRE>

<P>
The  <TT>instance_of?</TT>  method does the same thing and is a little more elegant:

<P>
<PRE>
o.instance_of? String   # true if o is a String
</PRE>

<P>
Usually when we test the class of an object, we would also like to
know if the object is an instance of any subclass of that class.
To test this, use the  <TT>is_a?</TT>  method, or its synonym  <TT>kind_of?</TT> :

<P>
<PRE>
x = 1                    # This is the value we're working with
x.instance_of? Fixnum    # true: is an instance of Fixnum
x.instance_of? Numeric   # false: instance_of? doesn't check inheritance
x.is_a? Fixnum           # true: x is a Fixnum
x.is_a? Integer          # true: x is an Integer
x.is_a? Numeric          # true: x is a Numeric
x.is_a? Comparable       # true: works with mixin modules, too
x.is_a? Object           # true for any value of x
</PRE>

<P>
The <A NAME="tex2html177"
  HREF="http://ruby-doc.org/core-2.0.0/Class.html"><TT>Class</TT></A> class defines the  <TT>===</TT>  operator in such a way that it can
be used in place of <code>is_a?</code>:

<P>
<PRE>
Numeric === x            # true: x is_a Numeric
</PRE>

<P>

<H4><A NAME="SECTION02384010000000000000">
Clase y Vida de un Objeto</A>
</H4>
  

<P>
Every object has a well-defined class in Ruby, and that class never
changes during the lifetime of the object. 

<P>

<H4><A NAME="SECTION02384020000000000000">
Que es un Tipo</A>
</H4>
  

When we talk
about the <A NAME="4180"></A><SPAN  CLASS="textit">type</SPAN> of an object, we mean <I>the set of behaviors that
characterize the object</I>

<P>
Another way to put it is that <I>the type of
an object is the set of methods it can respond to</I>

<P>

<FONT COLOR="#0000ff"> 
(This definition
becomes recursive because it is not just the name of the methods
that matter, but also the types of arguments that those methods can
accept.)
</FONT>

<P>

<H4><A NAME="SECTION02384030000000000000">
¿Puedo llamar a este método sobre este objeto?</A>
</H4>
  

<P>
In Ruby programming, 
<FONT COLOR="#ff0000"> we often don't care about the class of an
object, we just want to know whether we can invoke some method on
it.</FONT> 

<P>

<OL>
<LI>Consider, for example, the <code>&lt;&lt;</code> operator. 

<P>
Arrays, strings, files,
and other I/O-related classes define this as an append operator.

<P>
If we are writing a method that produces textual output, we might
write it generically to use this operator. 

<P>
</LI>
<LI>Then our method can be
invoked with any argument that implements <code>&lt;&lt;</code>. We don't care about
the class of the argument, just that we can append to it. We can
test for this with the  <TT>respond_to?</TT>  method:

<P>
<PRE>
o.respond_to? :"&lt;&lt;"  # true if o has an &lt;&lt; operator
</PRE>
</LI>
<LI>Este método funciona tanto con cadenas como con arrays, listas, etc. es un método
polimorfo.  <A NAME="4191"></A><SPAN  CLASS="textit">Polymorphism</SPAN> 

<FONT COLOR="#ff0000"> is the provision of a single interface to entities of different types</FONT>.
</LI>
</OL>

<P>
The shortcoming of this approach is that it only checks the name
of a method, not the arguments for that method:

<OL>
<LI>For example, <A NAME="tex2html178"
  HREF="http://ruby-doc.org/core-2.0.0/Fixnum.html"><TT>Fixnum</TT></A>
and <A NAME="tex2html179"
  HREF="http://ruby-doc.org/core-2.0.0/Bignum.html"><TT>Bignum</TT></A> implement <code>&lt;&lt;</code> as a left-shift operator and expect the
argument to be a number instead of a string. 

<P>
</LI>
<LI>Integer objects appear
to be <I>appendable</I> when we use a  <TT>respond_to?</TT>  test, 
but they produce
an error when our code appends a string. 
</LI>
</OL>

<P>
There is no general solution
to this problem, but an ad-hoc remedy, in this case, is to explicitly
rule out <A NAME="tex2html180"
  HREF="http://ruby-doc.org/core-2.0.0/Numeric.html"><TT>Numeric</TT></A> objects with the <code>is_a?</code> method:

<P>
<PRE>
o.respond_to? :"&lt;&lt;" and not o.is_a? Numeric
</PRE>

<P>
Another example of the <A NAME="4205"></A><SPAN  CLASS="textit">type-versus-class</SPAN> distinction is the 
<A NAME="tex2html181"
  HREF="http://ruby-doc.org/core-2.0.0/StringIO.html"><TT>StringIO</TT></A>
class (from Ruby's standard library). 

<P>

<OL>
<LI><A NAME="tex2html182"
  HREF="http://ruby-doc.org/core-2.0.0/StringIO.html"><TT>StringIO</TT></A> enables reading from
and writing to string objects as if they were <A NAME="tex2html183"
  HREF="http://ruby-doc.org/core-2.0.0/IO.html"><TT>IO</TT></A> objects. 

<P>
</LI>
<LI><A NAME="tex2html184"
  HREF="http://ruby-doc.org/core-2.0.0/StringIO.html"><TT>StringIO</TT></A>
mimics the <A NAME="tex2html185"
  HREF="http://ruby-doc.org/core-2.0.0/IO.html"><TT>IO</TT></A> API—<A NAME="tex2html186"
  HREF="http://ruby-doc.org/core-2.0.0/StringIO.html"><TT>StringIO</TT></A> objects define the same methods that <A NAME="tex2html187"
  HREF="http://ruby-doc.org/core-2.0.0/IO.html"><TT>IO</TT></A>
objects do. 

<P>
</LI>
<LI>But <A NAME="tex2html188"
  HREF="http://ruby-doc.org/core-2.0.0/StringIO.html"><TT>StringIO</TT></A> is not a subclass of <A NAME="tex2html189"
  HREF="http://ruby-doc.org/core-2.0.0/IO.html"><TT>IO</TT></A>. 

<P>
</LI>
<LI>If you write a
method that expects a stream argument, and test the class of the
argument with <code>is_a?</code> <A NAME="tex2html190"
  HREF="http://ruby-doc.org/core-2.0.0/IO.html"><TT>IO</TT></A>, then your method won't work with <A NAME="tex2html191"
  HREF="http://ruby-doc.org/core-2.0.0/StringIO.html"><TT>StringIO</TT></A>
arguments.
</LI>
</OL>

<P>
Focusing on types rather than classes leads to a programming style
known in Ruby as "duck typing." 

<P>
Repasa la sección <I>Comprobación de Tipos y Tipado Pato (Duck Typing)</I>
<A HREF="node179.html#subsub:tiposypatos">14.1.8</A>.

<P>
El tipo de un objeto es el conjunto de conductas que caracterizan al objeto.
Es el conjunto de métodos a los que puede responder.

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html4389"
  HREF="node76.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html4383"
  HREF="node71.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html4377"
  HREF="node74.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html4385"
  HREF="node816.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html4387"
  HREF="node819.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html29"
  HREF="http://tinyurl.com/lpp1415"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="LPP moodle"></A><A NAME="tex2html30"
  HREF="https://campusvirtual.ull.es/1415/course/view.php?id=5678"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="moodleLHPlogo.jpeg"
 ALT="SYTW moodle"></A><A NAME="tex2html31"
  HREF="perlexamples.pdf"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="pdf"></A><A NAME="tex2html32"
  HREF="https://dl.dropbox.com/u/14539152/LPP/LPPbook/index.html"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="ruby gems"></A><A NAME="tex2html33"
  HREF="http://www.ruby-doc.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html34"
  HREF="http://www.github.com"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="google-code-project-hosting.jpeg"
 ALT="github"></A><A NAME="tex2html35"
  HREF="http://rubylearning.com/blog/"><IMG
  WIDTH="27" ALIGN="BOTTOM" BORDER="0"
 SRC="perl6.jpg"
 ALT="blogs"></A><A NAME="tex2html36"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html37"
  HREF="http://www.ull.es/view/centros/etsii/Inicio/es"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html38"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html39"
  HREF="https://plus.google.com/u/0/communities/115470806071217401678"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-lpp-1314"></A><A NAME="tex2html40"
  HREF="https://plus.google.com/u/0/communities/109091480492072495700"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="ull-etsii-grado-stw-1314"></A>
<BR>
<B> Siguiente:</B> <A NAME="tex2html4390"
  HREF="node76.html">Igualdad de Objetos</A>
<B> Subir:</B> <A NAME="tex2html4384"
  HREF="node71.html">Objetos</A>
<B> Anterior:</B> <A NAME="tex2html4378"
  HREF="node74.html">Identidad de un Objeto</A>
 &nbsp; <B>  <A NAME="tex2html4386"
  HREF="node816.html">&#205;ndice General</A></B> 
 &nbsp; <B>  <A NAME="tex2html4388"
  HREF="node819.html">&#205;ndice de Materias</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Casiano Rodriguez León
2014-11-19
</ADDRESS>
</BODY>
</HTML>
