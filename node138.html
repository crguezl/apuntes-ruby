
<H2><A NAME="SECTION02656000000000000000"><tex2html_anchor_invisible_mark></A>
<A NAME="subsection:enumeradores"><tex2html_anchor_mark></A><BR>
Enumeradores
</H2>

<P>

<H4><A NAME="SECTION02656010000000000000">
Iteradores Externos</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>
La clase <A NAME="tex2html232"
  HREF="http://ruby-doc.org/core-2.0.0/Enumerator.html"><TT>Enumerator</TT></A><#4765#><#4765#> permite la iteración tanto interna como externa.

<P>
When the iterator controls the iteration, the iterator is an <A NAME="5385"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textit">internal iterator</SPAN>. 
Clients that use an <A NAME="5387"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textit">external iterator</SPAN> 
must advance the traversal and request the <tex2html_verb_mark>374<tex2html_verb_mark> 
element explicitly from the iterator.

<P>
Una manera de crear objetos <A NAME="tex2html233"
  HREF="http://ruby-doc.org/core-2.0.0/Enumerator.html"><TT>Enumerator</TT></A><#4768#><#4768#> es mediante el método
<tex2html_verb_mark>375<tex2html_verb_mark> (en la clase <A NAME="tex2html234"
  HREF="http://ruby-doc.org/core-2.0.0/Object.html"><TT>Object</TT></A><#4769#><#4769#>):

<P>
<PRE><tex2html_verbatim_mark>verbatim547#</PRE>

<P>
También puede usarse con hashes:
<PRE><tex2html_verbatim_mark>verbatim548#</PRE>
El método <tex2html_verb_mark>376<tex2html_verb_mark> está definido en la clase <A NAME="tex2html235"
  HREF="http://ruby-doc.org/core-2.0.0/Object.html"><TT>Object</TT></A><#4774#><#4774#>.
<tex2html_verb_mark>377<tex2html_verb_mark>
Creates a new <A NAME="tex2html236"
  HREF="http://ruby-doc.org/core-2.0.0/Enumerator.html"><TT>Enumerator</TT></A><#4775#><#4775#> which will enumerate by calling method on <tex2html_verb_mark>378<tex2html_verb_mark>, passing <tex2html_verb_mark>379<tex2html_verb_mark> 
if any.
<PRE><tex2html_verbatim_mark>verbatim549#</PRE>

<P>

<H4><A NAME="SECTION02656020000000000000">
with_index</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>

El método <tex2html_verb_mark>380<tex2html_verb_mark> 
(o bien <tex2html_verb_mark>381<tex2html_verb_mark>)
Iterates the given block for each element with an index, which starts from offset. 
If no block is given, returns a new <A NAME="tex2html237"
  HREF="http://ruby-doc.org/core-2.0.0/Enumerator.html"><TT>Enumerator</TT></A><#4779#><#4779#> 
that includes the index, starting from offset
<PRE><tex2html_verbatim_mark>verbatim550#</PRE>

<P>

<H4><A NAME="SECTION02656030000000000000">
Construcción de un Enumerador</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>

<OL>
<LI>As well as creating <A NAME="tex2html238"
  HREF="http://ruby-doc.org/core-2.0.0/Enumerator.html"><TT>Enumerator</TT></A><#4784#><#4784#>s from existing collections, you can create an explicit enumerator, passing it a block
</LI>
<LI>The code in the block will be used when the enumerator object needs to supply a fresh value to your program
</LI>
<LI>However, the block isn’t simply executed from top to bottom
</LI>
<LI>Instead, the block is executed in parallel with the rest of your program’s code
</LI>
<LI>Execution starts at the top and pauses when the block <tex2html_verb_mark>382<tex2html_verb_mark> a value to your code
</LI>
<LI>When the code needs the <tex2html_verb_mark>383<tex2html_verb_mark> value, execution resumes at the statement following the <tex2html_verb_mark>384<tex2html_verb_mark>
</LI>
<LI>This lets you write enumerators that generate <A NAME="5415"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textit">infinite sequences</SPAN>:
</LI>
</OL>

<P>
<PRE><tex2html_verbatim_mark>verbatim551#</PRE>

<P>
<PRE><tex2html_verbatim_mark>verbatim552#</PRE>

<P>
La clase <A NAME="tex2html239"
  HREF="http://ruby-doc.org/core-2.0.0/Enumerator.html"><TT>Enumerator</TT></A><#4791#><#4791#> incluye el módulo <A NAME="tex2html240"
  HREF="http://ruby-doc.org/core-2.0.0/Enumerable.html"><TT>Enumerable</TT></A><#4792#><#4792#> de donde toma,
entre otros, los métodos <tex2html_verb_mark>385<tex2html_verb_mark> y <tex2html_verb_mark>386<tex2html_verb_mark>.

<P>
<PRE><tex2html_verbatim_mark>verbatim553#</PRE>
<H4><A NAME="SECTION02656040000000000000">
Enumeradores Infinitos</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<OL>
<LI>You have to be slightly careful with <A NAME="tex2html241"
  HREF="http://ruby-doc.org/core-2.0.0/Enumerator.html"><TT>Enumerator</TT></A><#4797#><#4797#>s that can generate
infinite sequences
</LI>
<LI>Some of the regular <A NAME="tex2html242"
  HREF="http://ruby-doc.org/core-2.0.0/Enumerable.html"><TT>Enumerable</TT></A><#4798#><#4798#> methods such as
<tex2html_verb_mark>387<tex2html_verb_mark> and <tex2html_verb_mark>388<tex2html_verb_mark> will happily try to read the whole enumeration
before returning a result
</LI>
<LI>If you want a version of <tex2html_verb_mark>389<tex2html_verb_mark> that
works with infinite sequences, you’ll need to write it yourself
</LI>
<LI>Here’s a version that gets passed an <A NAME="tex2html243"
  HREF="http://ruby-doc.org/core-2.0.0/Enumerator.html"><TT>Enumerator</TT></A><#4799#><#4799#> and a block and
returns a new <A NAME="tex2html244"
  HREF="http://ruby-doc.org/core-2.0.0/Enumerator.html"><TT>Enumerator</TT></A><#4800#><#4800#> containing values from the original for
which the block returns <tex2html_verb_mark>390<tex2html_verb_mark>
</LI>
</OL>

<P>
<PRE><tex2html_verbatim_mark>verbatim554#</PRE>

<P>
<PRE><tex2html_verbatim_mark>verbatim555#</PRE>

<P>

<H4><A NAME="SECTION02656050000000000000">
Enumeradores Perezosos</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>

Otra forma de crear iteradores infinitos en Ruby 2.0 es mediante la clase
<A NAME="tex2html245"
  HREF="http://ruby-doc.org/core-2.0.0/Enumerator/Lazy.html"><TT>Enumerator::Lazy</TT></A><#4807#><#4807#>:

<P>
<PRE><tex2html_verbatim_mark>verbatim556#</PRE>
El método <tex2html_verb_mark>391<tex2html_verb_mark> se encuentra en el módulo <A NAME="tex2html246"
  HREF="http://ruby-doc.org/core-2.0.0/Enumerable.html"><TT>Enumerable</TT></A><#4810#><#4810#>
y retorna un enumerador perezoso <A NAME="tex2html247"
  HREF="http://ruby-doc.org/core-2.0.0/Enumerator/Lazy.html"><TT>Enumerator::Lazy</TT></A><#4811#><#4811#>
que enumera/construye el valor cuando se
necesita.
<PRE><tex2html_verbatim_mark>verbatim557#</PRE>

<P>

<H4><A NAME="SECTION02656060000000000000">
Véase</A>
</H4>
  <TABLE CELLPADDING=3>
</TABLE>


<P>

<OL>
<LI><A NAME="tex2html248"
  HREF="http://patshaughnessy.net/2013/4/3/ruby-2-0-works-hard-so-you-can-be-lazy">Ruby 2.0 Works Hard So You Can Be Lazy</A>
por Pat Shaughnessy. April 3rd 2013
</LI>
</OL>