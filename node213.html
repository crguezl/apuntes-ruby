
<H1><A NAME="SECTION027140000000000000000"><tex2html_anchor_invisible_mark></A>
<A NAME="subsection:busqueda_de_metodos_de_clase"><tex2html_anchor_mark></A><BR>
Búsqueda de Métodos de Clase
</H1>

<P>
El algoritmo de resolución para los métodos de clase es el mismo 
que para los métodos de instancia, pero con un cambio importante.

<P>
Supongamos esta clase <tex2html_verb_mark>922<tex2html_verb_mark> sin métodos:
<PRE><tex2html_verbatim_mark>verbatim921#</PRE>

<P>
Supongamos la llamada:
<PRE><tex2html_verbatim_mark>verbatim922#</PRE>

<P>

<OL>
<LI>Ruby busca en la eigenclass de <tex2html_verb_mark>923<tex2html_verb_mark>, no se encuentra
ya que en <tex2html_verb_mark>924<tex2html_verb_mark> no se han declarado métodos de clase
</LI>
<LI>Se busca a continuación en la clase de <tex2html_verb_mark>925<tex2html_verb_mark>: esta clase es la clase <tex2html_verb_mark>926<tex2html_verb_mark>.

<P>
</LI>
<LI>En <A NAME="tex2html401"
  HREF="http://ruby-doc.org/core-2.0.0/Class.html"><TT>Class</TT></A><#7441#><#7441#> ruby encuentra el <SPAN ID="txt7442">método de instancia</SPAN> <tex2html_verb_mark>927<tex2html_verb_mark> y lo invoca
</LI>
</OL>

<P>
En Ruby cualquier invocación a un método implica
un objeto receptor y un nombre de método.
Si nuestro objeto es una instancia de la clase
<tex2html_verb_mark>928<tex2html_verb_mark> entonces nuestro objeto es una clase.

<P>
Para explicar en que consiste 
el cambio importante en la búsqueda 
de métodos de clase mencionado 
antes, consideremos este otro ejemplo
en el que definimos un método de clase 
<tex2html_verb_mark>929<tex2html_verb_mark>:
<PRE><tex2html_verbatim_mark>verbatim923#</PRE>
Puesto que <tex2html_verb_mark>930<tex2html_verb_mark> es una subclase de 
<tex2html_verb_mark>931<tex2html_verb_mark> deberíamos poder invocarlo así:
<PRE><tex2html_verbatim_mark>verbatim924#</PRE>
<PRE><tex2html_verbatim_mark>verbatim925#</PRE>
Si aplicamos el method lookup anterior tendríamos:

<OL>
<LI>Se busca en la eigenclass de <tex2html_verb_mark>932<tex2html_verb_mark>: no se encuentra
</LI>
<LI>Se busca en la clase de <tex2html_verb_mark>933<tex2html_verb_mark>: es <tex2html_verb_mark>934<tex2html_verb_mark>.
No se encuentra
</LI>
<LI>Se busca en <A NAME="tex2html402"
  HREF="http://ruby-doc.org/core-2.0.0/Module.html"><TT>Module</TT></A><#7451#><#7451#>, <A NAME="tex2html403"
  HREF="http://ruby-doc.org/core-2.0.0/Object.html"><TT>Object</TT></A><#7452#><#7452#>,  <A NAME="tex2html404"
  HREF="http://ruby-doc.org/core-2.0.0/Kernel.html"><TT>Kernel</TT></A><#7453#><#7453#>
y <A NAME="tex2html405"
  HREF="http://ruby-doc.org/core-2.0.0/BasicObject.html"><TT>BasicObject</TT></A><#7454#><#7454#>
infructuosamente 
</LI>
</OL>

<P>
Falla. ¿Donde se encuentra el método <tex2html_verb_mark>935<tex2html_verb_mark>?.
Sabemos que <tex2html_verb_mark>936<tex2html_verb_mark> <SPAN  CLASS="textbf">es un método singleton del objeto</SPAN> <tex2html_verb_mark>937<tex2html_verb_mark>.
Por tanto está en la eigenclass/singleton class  de <tex2html_verb_mark>938<tex2html_verb_mark>.

<P>

<OL>
<LI>Los objetos de la clase <tex2html_verb_mark>939<tex2html_verb_mark>
son especiales: tienen <A NAME="7798"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textbf">superclases</SPAN>.
</LI>
<LI>Las singleton clases o eigenclases de los objetos de la clase <tex2html_verb_mark>940<tex2html_verb_mark>
son también especiales: tienen <A NAME="7800"><tex2html_anchor_invisible_mark></A><SPAN  CLASS="textbf">superclases</SPAN>.
</LI>
<LI>La eigenclass de un objeto ordinario no tiene superclase
</LI>
<LI>Si la clase <tex2html_verb_mark>941<tex2html_verb_mark> hereda de la clase <tex2html_verb_mark>942<tex2html_verb_mark> (esto es <tex2html_verb_mark>943<tex2html_verb_mark>)
y <tex2html_verb_mark>944<tex2html_verb_mark> denota la eigenclass de <tex2html_verb_mark>945<tex2html_verb_mark>
y <tex2html_verb_mark>946<tex2html_verb_mark> denota la eigenclass de <tex2html_verb_mark>947<tex2html_verb_mark>,
entonces la superclase de <tex2html_verb_mark>948<tex2html_verb_mark> es <tex2html_verb_mark>949<tex2html_verb_mark>
</LI>
<LI>Ruby para los métodos singleton busca en la eigenclass del objeto y en todas las superclases de la eigenclass 
</LI>
</OL>
Si aplicamos el nuevo lookup  a la búsqueda de <tex2html_verb_mark>950<tex2html_verb_mark> en:
<PRE><tex2html_verbatim_mark>verbatim926#</PRE>
tendríamos:

<P>

<OL>
<LI>Se busca en la eigenclass de <tex2html_verb_mark>951<tex2html_verb_mark>: no se encuentra
</LI>
<LI>Busca en la superclase de la eigenclass de  <tex2html_verb_mark>952<tex2html_verb_mark> esta es la eigenclass de <tex2html_verb_mark>953<tex2html_verb_mark> y allí encuentra el método <tex2html_verb_mark>954<tex2html_verb_mark>
</LI>
<LI>Si no lo hubiera encontrado hubiera probado con las subsiguientes eigenclasses de <tex2html_verb_mark>955<tex2html_verb_mark> y <A NAME="tex2html406"
  HREF="http://ruby-doc.org/core-2.0.0/Object.html"><TT>Object</TT></A><#7464#><#7464#>. 
Es decir, sigue buscando por métodos singleton
</LI>
<LI>Después probaría con <tex2html_verb_mark>956<tex2html_verb_mark>,
<tex2html_verb_mark>957<tex2html_verb_mark>,
<A NAME="tex2html407"
  HREF="http://ruby-doc.org/core-2.0.0/Object.html"><TT>Object</TT></A><#7465#><#7465#> y <tex2html_verb_mark>958<tex2html_verb_mark>
</LI>
</OL>

<P>
